var xe=Object.defineProperty,et=Object.defineProperties;var tt=Object.getOwnPropertyDescriptors;var Qe=Object.getOwnPropertySymbols;var nt=Object.prototype.hasOwnProperty,lt=Object.prototype.propertyIsEnumerable;var Re=(n,e,t)=>e in n?xe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,re=(n,e)=>{for(var t in e||(e={}))nt.call(e,t)&&Re(n,t,e[t]);if(Qe)for(var t of Qe(e))lt.call(e,t)&&Re(n,t,e[t]);return n},Oe=(n,e)=>et(n,tt(e));var _e=(n,e,t)=>new Promise((l,i)=>{var s=o=>{try{u(t.next(o))}catch(a){i(a)}},r=o=>{try{u(t.throw(o))}catch(a){i(a)}},u=o=>o.done?l(o.value):Promise.resolve(o.value).then(s,r);u((t=t.apply(n,e)).next())});import{S as Z,i as x,s as ee,e as h,c as j,a as C,d as f,b as q,f as d,m as I,F as R,x as ge,t as y,j as S,h as T,k as B,H as oe,M as be,N as X,I as W,E as ne,p as L,q as le,O as ve,P as ke,Q as we,T as $e,U as it,V as Pe,y as je,W as Ie,n as Ce,z as Be,C as ce,A as ae,D as pe,X as qe,u as ye,B as st,r as ot,J as de,K as me}from"./vendor.dee27249.js";import{I as ue,d as De,e as he,h as rt,i as ut,r as ft,j as ct,k as at,g as pt,u as dt}from"./store.c81a59f0.js";import{S as mt,T as _t,D as bt}from"./shared.0ee7f8e3.js";function ht(n){let e,t,l,i,s,r,u,o,a,p,c,_,m,b,g,k;return l=new ue({props:{path:De,width:"20px",height:"20px"}}),{c(){e=h("button"),t=h("div"),j(l.$$.fragment),i=C(),s=h("div"),r=h("div"),r.textContent="Add question",u=C(),o=h("div"),a=h("button"),a.textContent="Options",p=C(),c=h("button"),c.textContent="Text",_=C(),m=h("button"),m.textContent="Others",f(t,"class","p-2"),f(r,"class","p-1 inner-label svelte-149pbl9"),f(a,"aria-label","Add question with options type"),f(a,"class","p-1 text-black bg-white"),f(c,"aria-label","Add question with essay type"),f(c,"class","p-1 text-black bg-white"),f(m,"class","p-1 text-black bg-white"),f(o,"class","hidden-buttons svelte-149pbl9"),f(e,"aria-label","Add question"),f(e,"class","flex items-center px-2 py-1 btn btn--primary svelte-149pbl9"),f(e,"title","Add a new question")},m(v,A){q(v,e,A),d(e,t),I(l,t,null),d(e,i),d(e,s),d(s,r),d(s,u),d(s,o),d(o,a),d(o,p),d(o,c),d(o,_),d(o,m),b=!0,g||(k=[R(a,"click",n[1]),R(c,"click",n[2])],g=!0)},p:ge,i(v){b||(y(l.$$.fragment,v),b=!0)},o(v){S(l.$$.fragment,v),b=!1},d(v){v&&T(e),B(l),g=!1,oe(k)}}}function gt(n){const e=be();function t(s){e("onSelectQuestionType",s)}return[t,()=>t("selection"),()=>t("essay")]}class vt extends Z{constructor(e){super();x(this,e,gt,ht,ee,{})}}function kt(n){let e,t,l,i,s,r;return{c(){e=h("div"),t=h("input"),l=C(),i=h("textarea"),f(t,"class","p-2 mb-2 text-xl"),f(t,"placeholder","Form title"),f(t,"type","text"),f(i,"class","p-2"),f(i,"placeholder","Form description"),f(i,"type","text"),f(i,"rows","3"),f(e,"class","flex flex-col w-full p-5 bg-gray-100 form-meta-inputs")},m(u,o){q(u,e,o),d(e,t),n[5](t),ne(t,n[0]),d(e,l),d(e,i),ne(i,n[1]),s||(r=[R(t,"input",n[6]),R(i,"input",n[7])],s=!0)},p(u,o){o&1&&t.value!==u[0]&&ne(t,u[0]),o&2&&ne(i,u[1])},d(u){u&&T(e),n[5](null),s=!1,oe(r)}}}function wt(n){let e,t,l,i,s,r;return{c(){e=h("div"),t=h("h2"),l=L(n[0]),i=C(),s=h("p"),r=L(n[1]),f(t,"class","text-2xl"),f(s,"class","mt-2"),f(e,"class","p-5 form-meta-preview")},m(u,o){q(u,e,o),d(e,t),d(t,l),d(e,i),d(e,s),d(s,r)},p(u,o){o&1&&le(l,u[0]),o&2&&le(r,u[1])},d(u){u&&T(e)}}}function $t(n){let e,t,l;function i(u,o){return u[2]?wt:kt}let s=i(n),r=s(n);return{c(){e=h("div"),r.c(),f(e,"class","form-meta svelte-1ovbaqa"),f(e,"tabindex","0"),X(e,"preview",n[2])},m(u,o){q(u,e,o),r.m(e,null),n[8](e),t||(l=[R(e,"click",n[9]),R(e,"focusout",n[10])],t=!0)},p(u,[o]){s===(s=i(u))&&r?r.p(u,o):(r.d(1),r=s(u),r&&(r.c(),r.m(e,null))),o&4&&X(e,"preview",u[2])},i:ge,o:ge,d(u){u&&T(e),r.d(),n[8](null),t=!1,oe(l)}}}function qt(n,e,t){let{title:l=""}=e,{description:i=""}=e,s=!0,r,u;function o(b){W[b?"unshift":"push"](()=>{u=b,t(3,u)})}function a(){l=this.value,t(0,l)}function p(){i=this.value,t(1,i)}function c(b){W[b?"unshift":"push"](()=>{r=b,t(4,r)})}const _=()=>t(2,s=s&&!1),m=b=>t(2,s=!r.contains(b.relatedTarget));return n.$$set=b=>{"title"in b&&t(0,l=b.title),"description"in b&&t(1,i=b.description)},n.$$.update=()=>{n.$$.dirty&12&&(s||u&&u.focus())},[l,i,s,u,r,o,a,p,c,_,m]}class yt extends Z{constructor(e){super();x(this,e,qt,$t,ee,{title:0,description:1})}}function Tt(n){let e,t;const l=n[1].default,i=ve(l,n,n[0],null);return{c(){e=h("div"),i&&i.c(),f(e,"class","tabs")},m(s,r){q(s,e,r),i&&i.m(e,null),t=!0},p(s,[r]){i&&i.p&&(!t||r&1)&&ke(i,l,s,s[0],t?$e(l,s[0],r,null):we(s[0]),null)},i(s){t||(y(i,s),t=!0)},o(s){S(i,s),t=!1},d(s){s&&T(e),i&&i.d(s)}}}const Se={};function Ot(n,e,t){let{$$slots:l={},$$scope:i}=e;const s=[],r=[],u=je(null),o=je(null);return it(Se,{registerTab:a=>{s.push(a),u.update(p=>p||a),Pe(()=>{const p=s.indexOf(a);s.splice(p,1),u.update(c=>c===a?s[p]||s[s.length-1]:c)})},registerPanel:a=>{r.push(a),o.update(p=>p||a),Pe(()=>{const p=r.indexOf(a);r.splice(p,1),o.update(c=>c===a?r[p]||r[r.length-1]:c)})},selectTab:a=>{const p=s.indexOf(a);u.set(a),o.set(r[p])},selectedTab:u,selectedPanel:o}),n.$$set=a=>{"$$scope"in a&&t(0,i=a.$$scope)},[i,l]}class Ct extends Z{constructor(e){super();x(this,e,Ot,Tt,ee,{})}}function St(n){let e,t,l,i;const s=n[5].default,r=ve(s,n,n[4],null);return{c(){e=h("button"),r&&r.c(),f(e,"class","svelte-j6ttur"),X(e,"selected",n[0]===n[1])},m(u,o){q(u,e,o),r&&r.m(e,null),t=!0,l||(i=R(e,"click",n[6]),l=!0)},p(u,[o]){r&&r.p&&(!t||o&16)&&ke(r,s,u,u[4],t?$e(s,u[4],o,null):we(u[4]),null),o&3&&X(e,"selected",u[0]===u[1])},i(u){t||(y(r,u),t=!0)},o(u){S(r,u),t=!1},d(u){u&&T(e),r&&r.d(u),l=!1,i()}}}function At(n,e,t){let l,{$$slots:i={},$$scope:s}=e;const r={},{registerTab:u,selectTab:o,selectedTab:a}=Ie(Se);Ce(n,a,c=>t(0,l=c)),u(r);const p=()=>o(r);return n.$$set=c=>{"$$scope"in c&&t(4,s=c.$$scope)},[l,r,o,a,s,i,p]}class Le extends Z{constructor(e){super();x(this,e,At,St,ee,{})}}function Ft(n){let e,t;const l=n[1].default,i=ve(l,n,n[0],null);return{c(){e=h("div"),i&&i.c(),f(e,"class","tab-list svelte-9k7zbt")},m(s,r){q(s,e,r),i&&i.m(e,null),t=!0},p(s,[r]){i&&i.p&&(!t||r&1)&&ke(i,l,s,s[0],t?$e(l,s[0],r,null):we(s[0]),null)},i(s){t||(y(i,s),t=!0)},o(s){S(i,s),t=!1},d(s){s&&T(e),i&&i.d(s)}}}function Qt(n,e,t){let{$$slots:l={},$$scope:i}=e;return n.$$set=s=>{"$$scope"in s&&t(0,i=s.$$scope)},[i,l]}class Rt extends Z{constructor(e){super();x(this,e,Qt,Ft,ee,{})}}function Ne(n){let e;const t=n[4].default,l=ve(t,n,n[3],null);return{c(){l&&l.c()},m(i,s){l&&l.m(i,s),e=!0},p(i,s){l&&l.p&&(!e||s&8)&&ke(l,t,i,i[3],e?$e(t,i[3],s,null):we(i[3]),null)},i(i){e||(y(l,i),e=!0)},o(i){S(l,i),e=!1},d(i){l&&l.d(i)}}}function Pt(n){let e,t,l=n[0]===n[1]&&Ne(n);return{c(){l&&l.c(),e=Be()},m(i,s){l&&l.m(i,s),q(i,e,s),t=!0},p(i,[s]){i[0]===i[1]?l?(l.p(i,s),s&1&&y(l,1)):(l=Ne(i),l.c(),y(l,1),l.m(e.parentNode,e)):l&&(ce(),S(l,1,1,()=>{l=null}),ae())},i(i){t||(y(l),t=!0)},o(i){S(l),t=!1},d(i){l&&l.d(i),i&&T(e)}}}function jt(n,e,t){let l,{$$slots:i={},$$scope:s}=e;const r={},{registerPanel:u,selectedPanel:o}=Ie(Se);return Ce(n,o,a=>t(0,l=a)),u(r),n.$$set=a=>{"$$scope"in a&&t(3,s=a.$$scope)},[l,r,o,s,i]}class Ee extends Z{constructor(e){super();x(this,e,jt,Pt,ee,{})}}function It(n){let e;return{c(){e=h("input"),f(e,"class","inline-block mr-2"),f(e,"type","radio"),e.disabled=!0},m(t,l){q(t,e,l)},d(t){t&&T(e)}}}function Bt(n){let e;return{c(){e=h("input"),f(e,"class","inline-block mr-2"),f(e,"type","checkbox"),e.disabled=!0},m(t,l){q(t,e,l)},d(t){t&&T(e)}}}function Dt(n){let e,t,l,i,s,r,u,o,a;function p(m,b){return m[0]?Bt:It}let c=p(n),_=c(n);return r=new ue({props:{path:he,width:"25px",height:"25px"}}),{c(){e=h("div"),_.c(),t=C(),l=h("input"),i=C(),s=h("button"),j(r.$$.fragment),f(l,"class","flex-1 inline-block p-2 border border-gray-400"),l.disabled=!0,f(l,"placeholder","Others"),pe(l,"max-width","300px"),f(l,"type","text"),f(s,"aria-label","Remove option"),f(s,"class","ml-2 delete-question-button"),f(s,"title","Remove option"),f(e,"class","flex items-center mb-2 setup--question-item other-option-item")},m(m,b){q(m,e,b),_.m(e,null),d(e,t),d(e,l),d(e,i),d(e,s),I(r,s,null),u=!0,o||(a=R(s,"click",n[2]),o=!0)},p(m,[b]){c!==(c=p(m))&&(_.d(1),_=c(m),_&&(_.c(),_.m(e,t)))},i(m){u||(y(r.$$.fragment,m),u=!0)},o(m){S(r.$$.fragment,m),u=!1},d(m){m&&T(e),_.d(),B(r),o=!1,a()}}}function Lt(n,e,t){let{multiple:l=!1}=e;const i=be(),s=()=>i("delete");return n.$$set=r=>{"multiple"in r&&t(0,l=r.multiple)},[l,i,s]}class Nt extends Z{constructor(e){super();x(this,e,Lt,Dt,ee,{multiple:0})}}function Me(n,e,t){const l=n.slice();return l[23]=e[t],l[24]=e,l[2]=t,l}function Et(n){let e,t,l,i,s,r,u,o=n[2]+1+"",a,p,c,_,m,b,g,k,v,A,F,E,ie,H,U,J,$,w,V,se,te,G,Y,Q,z,Te,Ae;i=new ue({props:{path:he,width:"25px",height:"25px"}});let fe=n[0].options,D=[];for(let O=0;O<fe.length;O+=1)D[O]=Ve(Me(n,fe,O));const Ze=O=>S(D[O],1,1,()=>{D[O]=null});let M=n[0].hasOtherOption&&ze(n);E=new ue({props:{path:De,width:"25px",height:"25px"}});let K=!n[0].hasOtherOption&&He(n);return{c(){e=h("div"),t=h("div"),l=h("button"),j(i.$$.fragment),s=C(),r=h("div"),u=h("div"),a=L(o),p=L("."),c=C(),_=h("div"),m=h("textarea"),b=C(),g=h("div");for(let O=0;O<D.length;O+=1)D[O].c();k=C(),M&&M.c(),v=C(),A=h("div"),F=h("button"),j(E.$$.fragment),ie=L(`
        Add new option`),H=C(),K&&K.c(),U=C(),J=h("label"),$=h("input"),w=C(),V=h("div"),V.textContent="Multiple",se=C(),te=h("label"),G=h("input"),Y=C(),Q=h("div"),Q.textContent="Required",f(l,"aria-label","Remove question"),f(l,"class","flex items-center px-3 py-2"),f(l,"title","Remove question"),f(t,"class","ml-auto"),f(e,"class","flex p-1 border-b"),f(u,"class","mr-2"),f(m,"class","p-2 setup--question-text"),f(m,"placeholder","Input a question"),f(m,"type","text"),f(m,"rows","3"),f(g,"class","flex flex-col justify-center mt-5"),f(_,"class","flex flex-col flex-1"),pe(_,"height","100%"),f(r,"class","flex w-full p-5 question-selection-type-inputs"),pe(r,"height","100%"),f(F,"class","flex items-center px-3 py-2"),f($,"type","checkbox"),f(V,"class","ml-2"),f(J,"class","flex items-center px-3 py-2"),f(J,"tabindex","0"),f(G,"type","checkbox"),f(Q,"class","ml-2"),f(te,"class","flex items-center px-3 py-2"),f(te,"tabindex","0"),f(A,"class","flex flex-col p-1 border-t md:flex-row")},m(O,P){q(O,e,P),d(e,t),d(t,l),I(i,l,null),q(O,s,P),q(O,r,P),d(r,u),d(u,a),d(u,p),d(r,c),d(r,_),d(_,m),n[11](m),ne(m,n[0].text),d(_,b),d(_,g);for(let N=0;N<D.length;N+=1)D[N].m(g,null);d(g,k),M&&M.m(g,null),n[16](g),q(O,v,P),q(O,A,P),d(A,F),I(E,F,null),d(F,ie),d(A,H),K&&K.m(A,null),d(A,U),d(A,J),d(J,$),$.checked=n[0].multiple,d(J,w),d(J,V),d(A,se),d(A,te),d(te,G),G.checked=n[0].required,d(te,Y),d(te,Q),z=!0,Te||(Ae=[R(l,"click",n[10]),R(m,"input",n[12]),R(F,"click",n[7]),R($,"change",n[18]),R(G,"change",n[19])],Te=!0)},p(O,P){if((!z||P&4)&&o!==(o=O[2]+1+"")&&le(a,o),P&1&&ne(m,O[0].text),P&257){fe=O[0].options;let N;for(N=0;N<fe.length;N+=1){const Fe=Me(O,fe,N);D[N]?(D[N].p(Fe,P),y(D[N],1)):(D[N]=Ve(Fe),D[N].c(),y(D[N],1),D[N].m(g,k))}for(ce(),N=fe.length;N<D.length;N+=1)Ze(N);ae()}O[0].hasOtherOption?M?(M.p(O,P),P&1&&y(M,1)):(M=ze(O),M.c(),y(M,1),M.m(g,null)):M&&(ce(),S(M,1,1,()=>{M=null}),ae()),O[0].hasOtherOption?K&&(K.d(1),K=null):K?K.p(O,P):(K=He(O),K.c(),K.m(A,U)),P&1&&($.checked=O[0].multiple),P&1&&(G.checked=O[0].required)},i(O){if(!z){y(i.$$.fragment,O);for(let P=0;P<fe.length;P+=1)y(D[P]);y(M),y(E.$$.fragment,O),z=!0}},o(O){S(i.$$.fragment,O),D=D.filter(Boolean);for(let P=0;P<D.length;P+=1)S(D[P]);S(M),S(E.$$.fragment,O),z=!1},d(O){O&&T(e),B(i),O&&T(s),O&&T(r),n[11](null),ye(D,O),M&&M.d(),n[16](null),O&&T(v),O&&T(A),B(E),K&&K.d(),Te=!1,oe(Ae)}}}function Mt(n){let e,t;return e=new mt({props:{number:n[2]+1,question:n[0]}}),{c(){j(e.$$.fragment)},m(l,i){I(e,l,i),t=!0},p(l,i){const s={};i&4&&(s.number=l[2]+1),i&1&&(s.question=l[0]),e.$set(s)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){B(e,l)}}}function Vt(n){let e;return{c(){e=h("input"),f(e,"class","inline-block mr-2"),f(e,"type","radio"),e.disabled=!0},m(t,l){q(t,e,l)},d(t){t&&T(e)}}}function zt(n){let e;return{c(){e=h("input"),f(e,"class","inline-block mr-2"),f(e,"type","checkbox"),e.disabled=!0},m(t,l){q(t,e,l)},d(t){t&&T(e)}}}function Ve(n){let e,t,l,i,s,r,u,o,a;function p(g,k){return g[0].multiple?zt:Vt}let c=p(n),_=c(n);function m(){n[13].call(l,n[24],n[2])}r=new ue({props:{path:he,width:"25px",height:"25px"}});function b(){return n[14](n[2])}return{c(){e=h("div"),_.c(),t=C(),l=h("input"),i=C(),s=h("button"),j(r.$$.fragment),f(l,"class","flex-1 inline-block p-2"),pe(l,"max-width","300px"),f(l,"type","text"),f(s,"aria-label","Remove option"),f(s,"class","ml-2 delete-question-button"),f(s,"title","Remove option"),f(e,"class","flex items-center mb-2 setup--question-item")},m(g,k){q(g,e,k),_.m(e,null),d(e,t),d(e,l),ne(l,n[23]),d(e,i),d(e,s),I(r,s,null),u=!0,o||(a=[R(l,"input",m),R(s,"click",b)],o=!0)},p(g,k){n=g,c!==(c=p(n))&&(_.d(1),_=c(n),_&&(_.c(),_.m(e,t))),k&1&&l.value!==n[23]&&ne(l,n[23])},i(g){u||(y(r.$$.fragment,g),u=!0)},o(g){S(r.$$.fragment,g),u=!1},d(g){g&&T(e),_.d(),B(r),o=!1,oe(a)}}}function ze(n){let e,t;return e=new Nt({props:{multiple:n[0].multiple}}),e.$on("delete",n[15]),{c(){j(e.$$.fragment)},m(l,i){I(e,l,i),t=!0},p(l,i){const s={};i&1&&(s.multiple=l[0].multiple),e.$set(s)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){B(e,l)}}}function He(n){let e,t,l;return{c(){e=h("button"),e.textContent='Add "other" option',f(e,"class","flex items-center px-3 py-2")},m(i,s){q(i,e,s),t||(l=R(e,"click",n[17]),t=!0)},p:ge,d(i){i&&T(e),t=!1,l()}}}function Ht(n){let e,t,l,i,s,r;const u=[Mt,Et],o=[];function a(p,c){return p[1]?0:1}return t=a(n),l=o[t]=u[t](n),{c(){e=h("div"),l.c(),f(e,"class","flex flex-col mt-2 question-selection-type"),f(e,"tabindex","0"),X(e,"preview",n[1]),X(e,"bg-gray-100",!n[1])},m(p,c){q(p,e,c),o[t].m(e,null),n[20](e),i=!0,s||(r=[R(e,"click",n[9]),R(e,"focusout",n[21])],s=!0)},p(p,[c]){let _=t;t=a(p),t===_?o[t].p(p,c):(ce(),S(o[_],1,1,()=>{o[_]=null}),ae(),l=o[t],l?l.p(p,c):(l=o[t]=u[t](p),l.c()),y(l,1),l.m(e,null)),c&2&&X(e,"preview",p[1]),c&2&&X(e,"bg-gray-100",!p[1])},i(p){i||(y(l),i=!0)},o(p){S(l),i=!1},d(p){p&&T(e),o[t].d(),n[20](null),s=!1,oe(r)}}}function Ut(n,e,t){const l=be();let{question:i}=e,{index:s=0}=e,{preview:r=!1}=e;i.options.length||(i.options=["Option 1","Option 2"]);let u,o,a;function p(){return _e(this,null,function*(){yield qe();const w=o.querySelectorAll(".setup--question-item:not(.other-option-item) input");w.length&&w[w.length-1].focus()})}function c(){t(0,i.options=[...i.options,"Option "+(i.options.length+1)],i),p()}function _(w){const V=[...i.options];V.splice(w,1),t(0,i.options=[...V],i)}function m(){return _e(this,null,function*(){const w=r;t(1,r=w&&!1),w&&(yield qe(),a.focus())})}const b=()=>l("delete",s);function g(w){W[w?"unshift":"push"](()=>{a=w,t(5,a)})}function k(){i.text=this.value,t(0,i)}function v(w,V){w[V]=this.value,t(0,i)}const A=w=>_(w),F=()=>t(0,i.hasOtherOption=!1,i);function E(w){W[w?"unshift":"push"](()=>{o=w,t(4,o)})}const ie=()=>t(0,i.hasOtherOption=!0,i);function H(){i.multiple=this.checked,t(0,i)}function U(){i.required=this.checked,t(0,i)}function J(w){W[w?"unshift":"push"](()=>{u=w,t(3,u)})}const $=w=>t(1,r=!u.contains(w.relatedTarget));return n.$$set=w=>{"question"in w&&t(0,i=w.question),"index"in w&&t(2,s=w.index),"preview"in w&&t(1,r=w.preview)},[i,r,s,u,o,a,l,c,_,m,b,g,k,v,A,F,E,ie,H,U,J,$]}class Jt extends Z{constructor(e){super();x(this,e,Ut,Ht,ee,{question:0,index:2,preview:1})}}function Kt(n){let e,t,l,i,s,r,u,o=n[2]+1+"",a,p,c,_,m,b,g,k,v,A,F,E,ie,H,U,J,$,w,V,se;i=new ue({props:{path:he,width:"25px",height:"25px"}});function te(Q,z){return Q[0].multiline?Gt:Xt}let G=te(n),Y=G(n);return{c(){e=h("div"),t=h("div"),l=h("button"),j(i.$$.fragment),s=C(),r=h("div"),u=h("div"),a=L(o),p=L("."),c=C(),_=h("div"),m=h("textarea"),b=C(),Y.c(),g=C(),k=h("div"),v=h("label"),A=h("input"),F=C(),E=h("div"),E.textContent="Long answer",ie=C(),H=h("label"),U=h("input"),J=C(),$=h("div"),$.textContent="Required",f(l,"aria-label","Remove question"),f(l,"class","flex items-center px-3 py-2"),f(l,"title","Remove question"),f(t,"class","ml-auto"),f(e,"class","flex p-1 border-b"),f(u,"class","mr-2"),f(m,"class","p-2 setup--question-text"),f(m,"placeholder","Input a question"),f(m,"type","text"),f(m,"rows","3"),f(_,"class","flex flex-col flex-1"),pe(_,"height","100%"),f(r,"class","flex w-full p-5 question-selection-type-inputs"),pe(r,"height","100%"),f(A,"type","checkbox"),f(E,"class","ml-2"),f(v,"class","flex items-center px-3 py-2"),f(v,"tabindex","0"),f(U,"type","checkbox"),f($,"class","ml-2"),f(H,"class","flex items-center px-3 py-2"),f(H,"tabindex","0"),f(k,"class","flex flex-col p-1 border-t md:flex-row")},m(Q,z){q(Q,e,z),d(e,t),d(t,l),I(i,l,null),q(Q,s,z),q(Q,r,z),d(r,u),d(u,a),d(u,p),d(r,c),d(r,_),d(_,m),n[8](m),ne(m,n[0].text),d(_,b),Y.m(_,null),q(Q,g,z),q(Q,k,z),d(k,v),d(v,A),A.checked=n[0].multiline,d(v,F),d(v,E),d(k,ie),d(k,H),d(H,U),U.checked=n[0].required,d(H,J),d(H,$),w=!0,V||(se=[R(l,"click",n[7]),R(m,"input",n[9]),R(A,"change",n[10]),R(U,"change",n[11])],V=!0)},p(Q,z){(!w||z&4)&&o!==(o=Q[2]+1+"")&&le(a,o),z&1&&ne(m,Q[0].text),G!==(G=te(Q))&&(Y.d(1),Y=G(Q),Y&&(Y.c(),Y.m(_,null))),z&1&&(A.checked=Q[0].multiline),z&1&&(U.checked=Q[0].required)},i(Q){w||(y(i.$$.fragment,Q),w=!0)},o(Q){S(i.$$.fragment,Q),w=!1},d(Q){Q&&T(e),B(i),Q&&T(s),Q&&T(r),n[8](null),Y.d(),Q&&T(g),Q&&T(k),V=!1,oe(se)}}}function Wt(n){let e,t;return e=new _t({props:{number:n[2]+1,question:n[0]}}),{c(){j(e.$$.fragment)},m(l,i){I(e,l,i),t=!0},p(l,i){const s={};i&4&&(s.number=l[2]+1),i&1&&(s.question=l[0]),e.$set(s)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){B(e,l)}}}function Xt(n){let e;return{c(){e=h("input"),e.disabled=!0,f(e,"class","p-2 mt-2 border border-gray-400"),f(e,"placeholder","Input your answer"),f(e,"type","text")},m(t,l){q(t,e,l)},d(t){t&&T(e)}}}function Gt(n){let e;return{c(){e=h("textarea"),f(e,"class","p-2 mt-2 border border-gray-400"),e.disabled=!0,f(e,"placeholder","Input your answer"),f(e,"rows","3")},m(t,l){q(t,e,l)},d(t){t&&T(e)}}}function Yt(n){let e,t,l,i,s,r;const u=[Wt,Kt],o=[];function a(p,c){return p[1]?0:1}return t=a(n),l=o[t]=u[t](n),{c(){e=h("div"),l.c(),f(e,"class","flex flex-col mt-2 question-selection-type"),f(e,"tabindex","0"),X(e,"preview",n[1]),X(e,"bg-gray-100",!n[1])},m(p,c){q(p,e,c),o[t].m(e,null),n[12](e),i=!0,s||(r=[R(e,"click",n[6]),R(e,"focusout",n[13])],s=!0)},p(p,[c]){let _=t;t=a(p),t===_?o[t].p(p,c):(ce(),S(o[_],1,1,()=>{o[_]=null}),ae(),l=o[t],l?l.p(p,c):(l=o[t]=u[t](p),l.c()),y(l,1),l.m(e,null)),c&2&&X(e,"preview",p[1]),c&2&&X(e,"bg-gray-100",!p[1])},i(p){i||(y(l),i=!0)},o(p){S(l),i=!1},d(p){p&&T(e),o[t].d(),n[12](null),s=!1,oe(r)}}}function Zt(n,e,t){const l=be();let{question:i}=e,{index:s=0}=e,{preview:r=!1}=e,u,o;function a(){return _e(this,null,function*(){const v=r;t(1,r=v&&!1),v&&(yield qe(),o.focus())})}const p=()=>l("delete",s);function c(v){W[v?"unshift":"push"](()=>{o=v,t(4,o)})}function _(){i.text=this.value,t(0,i)}function m(){i.multiline=this.checked,t(0,i)}function b(){i.required=this.checked,t(0,i)}function g(v){W[v?"unshift":"push"](()=>{u=v,t(3,u)})}const k=v=>t(1,r=!u.contains(v.relatedTarget));return n.$$set=v=>{"question"in v&&t(0,i=v.question),"index"in v&&t(2,s=v.index),"preview"in v&&t(1,r=v.preview)},[i,r,s,u,o,l,a,p,c,_,m,b,g,k]}class xt extends Z{constructor(e){super();x(this,e,Zt,Yt,ee,{question:0,index:2,preview:1})}}function en(n){let e,t,l,i,s,r,u,o,a,p,c,_=(n[0]?"Sending...":"Send")+"",m,b,g,k;return i=new ue({props:{path:he}}),a=new ue({props:{path:rt}}),{c(){e=h("div"),t=h("div"),l=h("button"),j(i.$$.fragment),s=C(),r=h("input"),u=C(),o=h("button"),j(a.$$.fragment),p=C(),c=h("button"),m=L(_),f(l,"aria-label","Delete form"),f(l,"class","flex items-center p-1 mx-2"),f(l,"title","Delete this form"),f(r,"aria-label","Form link"),f(r,"class","hidden px-4 py-2 border sm:inline-block"),f(r,"type","text"),r.value=n[1],f(r,"title",n[1]),f(o,"aria-label","Copy form link"),f(o,"class","p-1 mx-2"),f(o,"title","Copy form link"),f(c,"aria-label","Send the form"),f(c,"class","px-4 py-2 ml-auto font-bold btn btn--primary"),f(c,"title","Send form"),f(t,"class","flex margin-page"),f(e,"class","p-2 bg-white form-actions")},m(v,A){q(v,e,A),d(e,t),d(t,l),I(i,l,null),d(t,s),d(t,r),d(t,u),d(t,o),I(a,o,null),d(t,p),d(t,c),d(c,m),b=!0,g||(k=[R(l,"click",n[6]),R(r,"click",n[3]),R(o,"click",n[3]),R(c,"click",n[4])],g=!0)},p(v,[A]){(!b||A&2&&r.value!==v[1])&&(r.value=v[1]),(!b||A&2)&&f(r,"title",v[1]),(!b||A&1)&&_!==(_=(v[0]?"Sending...":"Send")+"")&&le(m,_)},i(v){b||(y(i.$$.fragment,v),y(a.$$.fragment,v),b=!0)},o(v){S(i.$$.fragment,v),S(a.$$.fragment,v),b=!1},d(v){v&&T(e),B(i),B(a),g=!1,oe(k)}}}function tn(n,e,t){let l;const i=be();let{id:s=""}=e,r=!1;function u(){navigator.clipboard.writeText(l)}function o(){t(0,r=!0),setTimeout(()=>{t(0,r=!1)},2e3)}const a=()=>confirm("Are you sure want to delete this form?")&&i("delete-form-clicked");return n.$$set=p=>{"id"in p&&t(5,s=p.id)},n.$$.update=()=>{n.$$.dirty&32&&t(1,l="https://donnisnoni.github.io/simple-form-builder//#/form/"+s)},[r,l,i,u,o,s,a]}class nn extends Z{constructor(e){super();x(this,e,tn,en,ee,{id:5})}}function Ue(n,e,t){const l=n.slice();return l[22]=e[t],l}function Je(n,e,t){const l=n.slice();return l[25]=e[t],l[27]=t,l}function Ke(n,e,t){const l=n.slice();return l[6]=e[t],l[28]=e,l[27]=t,l}function ln(n){let e;return{c(){e=L("Questions")},m(t,l){q(t,e,l)},d(t){t&&T(e)}}}function sn(n){let e;return{c(){e=L("Answers")},m(t,l){q(t,e,l)},d(t){t&&T(e)}}}function on(n){let e,t,l,i;return e=new Le({props:{$$slots:{default:[ln]},$$scope:{ctx:n}}}),l=new Le({props:{$$slots:{default:[sn]},$$scope:{ctx:n}}}),{c(){j(e.$$.fragment),t=C(),j(l.$$.fragment)},m(s,r){I(e,s,r),q(s,t,r),I(l,s,r),i=!0},p(s,r){const u={};r&536870912&&(u.$$scope={dirty:r,ctx:s}),e.$set(u);const o={};r&536870912&&(o.$$scope={dirty:r,ctx:s}),l.$set(o)},i(s){i||(y(e.$$.fragment,s),y(l.$$.fragment,s),i=!0)},o(s){S(e.$$.fragment,s),S(l.$$.fragment,s),i=!1},d(s){B(e,s),s&&T(t),B(l,s)}}}function rn(n){let e,t,l,i;function s(o){n[15](o,n[6])}function r(o){n[16](o,n[6],n[28],n[27])}let u={index:n[27]};return n[6].preview!==void 0&&(u.preview=n[6].preview),n[6]!==void 0&&(u.question=n[6]),e=new xt({props:u}),W.push(()=>de(e,"preview",s)),W.push(()=>de(e,"question",r)),e.$on("delete",n[3]),{c(){j(e.$$.fragment)},m(o,a){I(e,o,a),i=!0},p(o,a){n=o;const p={};!t&&a&1&&(t=!0,p.preview=n[6].preview,me(()=>t=!1)),!l&&a&1&&(l=!0,p.question=n[6],me(()=>l=!1)),e.$set(p)},i(o){i||(y(e.$$.fragment,o),i=!0)},o(o){S(e.$$.fragment,o),i=!1},d(o){B(e,o)}}}function un(n){let e,t,l,i;function s(o){n[13](o,n[6])}function r(o){n[14](o,n[6],n[28],n[27])}let u={index:n[27]};return n[6].preview!==void 0&&(u.preview=n[6].preview),n[6]!==void 0&&(u.question=n[6]),e=new Jt({props:u}),W.push(()=>de(e,"preview",s)),W.push(()=>de(e,"question",r)),e.$on("delete",n[3]),{c(){j(e.$$.fragment)},m(o,a){I(e,o,a),i=!0},p(o,a){n=o;const p={};!t&&a&1&&(t=!0,p.preview=n[6].preview,me(()=>t=!1)),!l&&a&1&&(l=!0,p.question=n[6],me(()=>l=!1)),e.$set(p)},i(o){i||(y(e.$$.fragment,o),i=!0)},o(o){S(e.$$.fragment,o),i=!1},d(o){B(e,o)}}}function We(n){let e,t,l,i;const s=[un,rn],r=[];function u(o,a){return o[6].type==="selection"?0:o[6].type==="essay"?1:-1}return~(e=u(n))&&(t=r[e]=s[e](n)),{c(){t&&t.c(),l=Be()},m(o,a){~e&&r[e].m(o,a),q(o,l,a),i=!0},p(o,a){let p=e;e=u(o),e===p?~e&&r[e].p(o,a):(t&&(ce(),S(r[p],1,1,()=>{r[p]=null}),ae()),~e?(t=r[e],t?t.p(o,a):(t=r[e]=s[e](o),t.c()),y(t,1),t.m(l.parentNode,l)):t=null)},i(o){i||(y(t),i=!0)},o(o){S(t),i=!1},d(o){~e&&r[e].d(o),o&&T(l)}}}function fn(n){let e,t,l,i,s,r,u,o,a;function p(k){n[11](k)}function c(k){n[12](k)}let _={};n[0].title!==void 0&&(_.title=n[0].title),n[0].description!==void 0&&(_.description=n[0].description),t=new yt({props:_}),W.push(()=>de(t,"title",p)),W.push(()=>de(t,"description",c));let m=n[0].questions,b=[];for(let k=0;k<m.length;k+=1)b[k]=We(Ke(n,m,k));const g=k=>S(b[k],1,1,()=>{b[k]=null});return o=new vt({}),o.$on("onSelectQuestionType",n[4]),{c(){e=h("div"),j(t.$$.fragment),s=C();for(let k=0;k<b.length;k+=1)b[k].c();r=C(),u=h("div"),j(o.$$.fragment),f(u,"class","p-5"),f(e,"class","p-5 form-setup-panel"),f(e,"tabindex","0")},m(k,v){q(k,e,v),I(t,e,null),d(e,s);for(let A=0;A<b.length;A+=1)b[A].m(e,null);d(e,r),d(e,u),I(o,u,null),n[17](e),a=!0},p(k,v){const A={};if(!l&&v&1&&(l=!0,A.title=k[0].title,me(()=>l=!1)),!i&&v&1&&(i=!0,A.description=k[0].description,me(()=>i=!1)),t.$set(A),v&9){m=k[0].questions;let F;for(F=0;F<m.length;F+=1){const E=Ke(k,m,F);b[F]?(b[F].p(E,v),y(b[F],1)):(b[F]=We(E),b[F].c(),y(b[F],1),b[F].m(e,r))}for(ce(),F=m.length;F<b.length;F+=1)g(F);ae()}},i(k){if(!a){y(t.$$.fragment,k);for(let v=0;v<m.length;v+=1)y(b[v]);y(o.$$.fragment,k),a=!0}},o(k){S(t.$$.fragment,k),b=b.filter(Boolean);for(let v=0;v<b.length;v+=1)S(b[v]);S(o.$$.fragment,k),a=!1},d(k){k&&T(e),B(t),ye(b,k),B(o),n[17](null)}}}function Xe(n){let e,t,l=n[27]+1+"",i,s,r,u,o=n[0].questions[n[27]].text+"",a,p,c,_=(n[0].questions[n[27]].multiple?n[25].filter(Ye).join(", "):n[25])+"",m;return{c(){e=h("div"),t=h("div"),i=L(l),s=L("."),r=C(),u=h("div"),a=L(o),p=C(),c=h("div"),m=L(_),f(t,"class","mr-1"),f(u,"class","whitespace-pre"),f(e,"class","flex p-1 font-bold"),f(c,"class","p-1 ml-4 whitespace-pre")},m(b,g){q(b,e,g),d(e,t),d(t,i),d(t,s),d(e,r),d(e,u),d(u,a),q(b,p,g),q(b,c,g),d(c,m)},p(b,g){g&1&&o!==(o=b[0].questions[b[27]].text+"")&&le(a,o),g&5&&_!==(_=(b[0].questions[b[27]].multiple?b[25].filter(Ye).join(", "):b[25])+"")&&le(m,_)},d(b){b&&T(e),b&&T(p),b&&T(c)}}}function Ge(n){let e,t,l=n[22].name+"",i,s,r=n[22].phoneNumber+"",u,o,a,p,c=n[22].answers,_=[];for(let m=0;m<c.length;m+=1)_[m]=Xe(Je(n,c,m));return{c(){e=h("details"),t=h("summary"),i=L(l),s=L(" ("),u=L(r),o=L(")"),a=C();for(let m=0;m<_.length;m+=1)_[m].c();p=C(),f(t,"class","py-1 text-lg"),f(e,"class","mb-3 ml-1")},m(m,b){q(m,e,b),d(e,t),d(t,i),d(t,s),d(t,u),d(t,o),d(e,a);for(let g=0;g<_.length;g+=1)_[g].m(e,null);d(e,p)},p(m,b){if(b&4&&l!==(l=m[22].name+"")&&le(i,l),b&4&&r!==(r=m[22].phoneNumber+"")&&le(u,r),b&5){c=m[22].answers;let g;for(g=0;g<c.length;g+=1){const k=Je(m,c,g);_[g]?_[g].p(k,b):(_[g]=Xe(k),_[g].c(),_[g].m(e,p))}for(;g<_.length;g+=1)_[g].d(1);_.length=c.length}},d(m){m&&T(e),ye(_,m)}}}function cn(n){let e,t,l,i=n[2].length+"",s,r,u,o,a,p,c=n[2],_=[];for(let m=0;m<c.length;m+=1)_[m]=Ge(Ue(n,c,m));return{c(){e=h("div"),t=h("h2"),l=L("Answers from ("),s=L(i),r=L(" respondents)"),u=C(),o=h("hr"),a=C(),p=h("div");for(let m=0;m<_.length;m+=1)_[m].c();f(t,"class","text-xl"),f(o,"class","my-2"),f(p,"class","flex flex-col"),f(e,"class","p-5"),f(e,"tabindex","0")},m(m,b){q(m,e,b),d(e,t),d(t,l),d(t,s),d(t,r),d(e,u),d(e,o),d(e,a),d(e,p);for(let g=0;g<_.length;g+=1)_[g].m(p,null)},p(m,b){if(b&4&&i!==(i=m[2].length+"")&&le(s,i),b&5){c=m[2];let g;for(g=0;g<c.length;g+=1){const k=Ue(m,c,g);_[g]?_[g].p(k,b):(_[g]=Ge(k),_[g].c(),_[g].m(p,null))}for(;g<_.length;g+=1)_[g].d(1);_.length=c.length}},d(m){m&&T(e),ye(_,m)}}}function an(n){let e,t,l,i,s,r;return e=new Rt({props:{$$slots:{default:[on]},$$scope:{ctx:n}}}),l=new Ee({props:{$$slots:{default:[fn]},$$scope:{ctx:n}}}),s=new Ee({props:{$$slots:{default:[cn]},$$scope:{ctx:n}}}),{c(){j(e.$$.fragment),t=C(),j(l.$$.fragment),i=C(),j(s.$$.fragment)},m(u,o){I(e,u,o),q(u,t,o),I(l,u,o),q(u,i,o),I(s,u,o),r=!0},p(u,o){const a={};o&536870912&&(a.$$scope={dirty:o,ctx:u}),e.$set(a);const p={};o&536870915&&(p.$$scope={dirty:o,ctx:u}),l.$set(p);const c={};o&536870917&&(c.$$scope={dirty:o,ctx:u}),s.$set(c)},i(u){r||(y(e.$$.fragment,u),y(l.$$.fragment,u),y(s.$$.fragment,u),r=!0)},o(u){S(e.$$.fragment,u),S(l.$$.fragment,u),S(s.$$.fragment,u),r=!1},d(u){B(e,u),u&&T(t),B(l,u),u&&T(i),B(s,u)}}}function pn(n){let e,t,l,i,s,r;return e=new nn({props:{id:n[0].id}}),e.$on("delete-form-clicked",n[5]),s=new Ct({props:{$$slots:{default:[an]},$$scope:{ctx:n}}}),{c(){j(e.$$.fragment),t=C(),l=h("div"),i=h("div"),j(s.$$.fragment),f(i,"class","w-full mx-5 my-10 bg-white shadow-md"),pe(i,"max-width","700px"),f(l,"class","flex flex-col items-center")},m(u,o){I(e,u,o),q(u,t,o),q(u,l,o),d(l,i),I(s,i,null),r=!0},p(u,[o]){const a={};o&1&&(a.id=u[0].id),e.$set(a);const p={};o&536870919&&(p.$$scope={dirty:o,ctx:u}),s.$set(p)},i(u){r||(y(e.$$.fragment,u),y(s.$$.fragment,u),r=!0)},o(u){S(e.$$.fragment,u),S(s.$$.fragment,u),r=!1},d(u){B(e,u),u&&T(t),u&&T(l),B(s)}}}const Ye=n=>!!n;function dn(n,e,t){let l,i;Ce(n,ut,$=>t(10,i=$));let{params:s}=e,{id:r}=e,u=!1;const o={text:"Question",required:!1},a=Oe(re({},o),{multiline:!1}),p=Oe(re({},o),{options:[],hasOtherOption:!1,multiple:!1});let c=re({},bt);s&&s.id&&(r=s.id,c.id=r);let _;function m($){t(0,c.questions=[...c.questions,$],c)}function b({detail:$}){const w=c.questions;w.splice($,1),t(0,c.questions=w,c)}function g({detail:$}){let w={type:$};switch($){case"selection":w=re(re({},w),p);break;case"essay":w=re(re({},w),a);break}m(w),k()}function k(){return _e(this,null,function*(){yield qe(),document.activeElement.blur(),_.querySelector(".setup--question-text").focus()})}function v(){ft(c.id),ot("/")}st(()=>(ct(c.id)?t(0,c=pt(r)):at(c),document.body.classList.add("bg-color-2"),t(9,u=!0),()=>document.body.classList.remove("bg-color-2")));function A($){n.$$.not_equal(c.title,$)&&(c.title=$,t(0,c))}function F($){n.$$.not_equal(c.description,$)&&(c.description=$,t(0,c))}function E($,w){n.$$.not_equal(w.preview,$)&&(w.preview=$,t(0,c))}function ie($,w,V,se){V[se]=$,t(0,c)}function H($,w){n.$$.not_equal(w.preview,$)&&(w.preview=$,t(0,c))}function U($,w,V,se){V[se]=$,t(0,c)}function J($){W[$?"unshift":"push"](()=>{_=$,t(1,_)})}return n.$$set=$=>{"params"in $&&t(8,s=$.params),"id"in $&&t(7,r=$.id)},n.$$.update=()=>{n.$$.dirty&641&&u&&c&&!!r&&dt(r,c),n.$$.dirty&1152&&t(2,l=i.filter($=>$.id===r))},[c,_,l,b,g,v,o,r,s,u,i,A,F,E,ie,H,U,J]}class gn extends Z{constructor(e){super();x(this,e,dn,pn,ee,{params:8,id:7})}}export{gn as default};
