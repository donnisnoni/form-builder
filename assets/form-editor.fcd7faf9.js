var xe=Object.defineProperty,et=Object.defineProperties;var tt=Object.getOwnPropertyDescriptors;var Qe=Object.getOwnPropertySymbols;var lt=Object.prototype.hasOwnProperty,nt=Object.prototype.propertyIsEnumerable;var Re=(l,e,t)=>e in l?xe(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,re=(l,e)=>{for(var t in e||(e={}))lt.call(e,t)&&Re(l,t,e[t]);if(Qe)for(var t of Qe(e))nt.call(e,t)&&Re(l,t,e[t]);return l},Te=(l,e)=>et(l,tt(e));var _e=(l,e,t)=>new Promise((n,i)=>{var s=o=>{try{u(t.next(o))}catch(a){i(a)}},r=o=>{try{u(t.throw(o))}catch(a){i(a)}},u=o=>o.done?n(o.value):Promise.resolve(o.value).then(s,r);u((t=t.apply(l,e)).next())});import{S as Z,i as x,s as ee,e as h,c as B,a as C,b as f,d as y,f as p,m as I,D as R,u as ge,t as q,h as S,j as O,k as L,F as oe,K as be,L as W,G as J,C as le,p as N,q as ne,M as ke,N as we,O as $e,P as qe,Q as it,R as Pe,w as Be,T as We,o as Ce,x as Xe,A as ce,y as ae,B as pe,U as ve,n as ye,z as st,V as ot,H as de,I as me}from"./index.9dbb948b.js";import{I as ue,d as Ye,e as he,h as rt,i as ut,r as ft,j as ct,k as at,g as pt,u as dt}from"./store.b4f3254a.js";import{S as mt,T as _t,D as bt}from"./shared.b4d57bbe.js";function ht(l){let e,t,n,i,s,r,u,o,a,_,c,m,d,b,g,k;return n=new ue({props:{path:Ye,width:"20px",height:"20px"}}),{c(){e=h("button"),t=h("div"),B(n.$$.fragment),i=C(),s=h("div"),r=h("div"),r.textContent="Add question",u=C(),o=h("div"),a=h("button"),a.textContent="Options",_=C(),c=h("button"),c.textContent="Text",m=C(),d=h("button"),d.textContent="Others",f(t,"class","p-2"),f(r,"class","p-1 inner-label svelte-zro0s6"),f(a,"aria-label","Add question with options type"),f(a,"class","p-1 text-black bg-white"),f(c,"aria-label","Add question with essay type"),f(c,"class","p-1 text-black bg-white"),f(d,"class","p-1 text-black bg-white"),f(o,"class","hidden-buttons svelte-zro0s6"),f(e,"aria-label","Add question"),f(e,"class","flex items-center px-2 py-1 btn btn--primary svelte-zro0s6"),f(e,"title","Add a new question")},m(v,A){y(v,e,A),p(e,t),I(n,t,null),p(e,i),p(e,s),p(s,r),p(s,u),p(s,o),p(o,a),p(o,_),p(o,c),p(o,m),p(o,d),b=!0,g||(k=[R(a,"click",l[1]),R(c,"click",l[2])],g=!0)},p:ge,i(v){b||(q(n.$$.fragment,v),b=!0)},o(v){S(n.$$.fragment,v),b=!1},d(v){v&&O(e),L(n),g=!1,oe(k)}}}function gt(l){const e=be();function t(s){e("onSelectQuestionType",s)}return[t,()=>t("selection"),()=>t("essay")]}class vt extends Z{constructor(e){super(),x(this,e,gt,ht,ee,{})}}function kt(l){let e,t,n,i,s,r;return{c(){e=h("div"),t=h("input"),n=C(),i=h("textarea"),f(t,"class","p-2 mb-2 text-xl"),f(t,"placeholder","Form title"),f(t,"type","text"),f(i,"class","p-2"),f(i,"placeholder","Form description"),f(i,"type","text"),f(i,"rows","3"),f(e,"class","flex flex-col w-full p-5 bg-gray-100 form-meta-inputs")},m(u,o){y(u,e,o),p(e,t),l[5](t),le(t,l[0]),p(e,n),p(e,i),le(i,l[1]),s||(r=[R(t,"input",l[6]),R(i,"input",l[7])],s=!0)},p(u,o){o&1&&t.value!==u[0]&&le(t,u[0]),o&2&&le(i,u[1])},d(u){u&&O(e),l[5](null),s=!1,oe(r)}}}function wt(l){let e,t,n,i,s,r;return{c(){e=h("div"),t=h("h2"),n=N(l[0]),i=C(),s=h("p"),r=N(l[1]),f(t,"class","text-2xl"),f(s,"class","mt-2"),f(e,"class","p-5 form-meta-preview")},m(u,o){y(u,e,o),p(e,t),p(t,n),p(e,i),p(e,s),p(s,r)},p(u,o){o&1&&ne(n,u[0]),o&2&&ne(r,u[1])},d(u){u&&O(e)}}}function $t(l){let e,t,n;function i(u,o){return u[2]?wt:kt}let s=i(l),r=s(l);return{c(){e=h("div"),r.c(),f(e,"class","form-meta svelte-3kt2gd"),f(e,"tabindex","0"),W(e,"preview",l[2])},m(u,o){y(u,e,o),r.m(e,null),l[8](e),t||(n=[R(e,"click",l[9]),R(e,"focusout",l[10])],t=!0)},p(u,[o]){s===(s=i(u))&&r?r.p(u,o):(r.d(1),r=s(u),r&&(r.c(),r.m(e,null))),o&4&&W(e,"preview",u[2])},i:ge,o:ge,d(u){u&&O(e),r.d(),l[8](null),t=!1,oe(n)}}}function qt(l,e,t){let{title:n=""}=e,{description:i=""}=e,s=!0,r,u;function o(b){J[b?"unshift":"push"](()=>{u=b,t(3,u)})}function a(){n=this.value,t(0,n)}function _(){i=this.value,t(1,i)}function c(b){J[b?"unshift":"push"](()=>{r=b,t(4,r)})}const m=()=>t(2,s=s&&!1),d=b=>t(2,s=!r.contains(b.relatedTarget));return l.$$set=b=>{"title"in b&&t(0,n=b.title),"description"in b&&t(1,i=b.description)},l.$$.update=()=>{l.$$.dirty&12&&(s||u&&u.focus())},[n,i,s,u,r,o,a,_,c,m,d]}class yt extends Z{constructor(e){super(),x(this,e,qt,$t,ee,{title:0,description:1})}}function Ot(l){let e,t;const n=l[1].default,i=ke(n,l,l[0],null);return{c(){e=h("div"),i&&i.c(),f(e,"class","tabs")},m(s,r){y(s,e,r),i&&i.m(e,null),t=!0},p(s,[r]){i&&i.p&&(!t||r&1)&&we(i,n,s,s[0],t?qe(n,s[0],r,null):$e(s[0]),null)},i(s){t||(q(i,s),t=!0)},o(s){S(i,s),t=!1},d(s){s&&O(e),i&&i.d(s)}}}const Se={};function Tt(l,e,t){let{$$slots:n={},$$scope:i}=e;const s=[],r=[],u=Be(null),o=Be(null);return it(Se,{registerTab:a=>{s.push(a),u.update(_=>_||a),Pe(()=>{const _=s.indexOf(a);s.splice(_,1),u.update(c=>c===a?s[_]||s[s.length-1]:c)})},registerPanel:a=>{r.push(a),o.update(_=>_||a),Pe(()=>{const _=r.indexOf(a);r.splice(_,1),o.update(c=>c===a?r[_]||r[r.length-1]:c)})},selectTab:a=>{const _=s.indexOf(a);u.set(a),o.set(r[_])},selectedTab:u,selectedPanel:o}),l.$$set=a=>{"$$scope"in a&&t(0,i=a.$$scope)},[i,n]}class Ct extends Z{constructor(e){super(),x(this,e,Tt,Ot,ee,{})}}function St(l){let e,t,n,i;const s=l[5].default,r=ke(s,l,l[4],null);return{c(){e=h("button"),r&&r.c(),f(e,"class","svelte-h15v9t"),W(e,"selected",l[0]===l[1])},m(u,o){y(u,e,o),r&&r.m(e,null),t=!0,n||(i=R(e,"click",l[6]),n=!0)},p(u,[o]){r&&r.p&&(!t||o&16)&&we(r,s,u,u[4],t?qe(s,u[4],o,null):$e(u[4]),null),(!t||o&3)&&W(e,"selected",u[0]===u[1])},i(u){t||(q(r,u),t=!0)},o(u){S(r,u),t=!1},d(u){u&&O(e),r&&r.d(u),n=!1,i()}}}function At(l,e,t){let n,{$$slots:i={},$$scope:s}=e;const r={},{registerTab:u,selectTab:o,selectedTab:a}=We(Se);Ce(l,a,c=>t(0,n=c)),u(r);const _=()=>o(r);return l.$$set=c=>{"$$scope"in c&&t(4,s=c.$$scope)},[n,r,o,a,s,i,_]}class Ie extends Z{constructor(e){super(),x(this,e,At,St,ee,{})}}function Ft(l){let e,t;const n=l[1].default,i=ke(n,l,l[0],null);return{c(){e=h("div"),i&&i.c(),f(e,"class","tab-list svelte-113el8c")},m(s,r){y(s,e,r),i&&i.m(e,null),t=!0},p(s,[r]){i&&i.p&&(!t||r&1)&&we(i,n,s,s[0],t?qe(n,s[0],r,null):$e(s[0]),null)},i(s){t||(q(i,s),t=!0)},o(s){S(i,s),t=!1},d(s){s&&O(e),i&&i.d(s)}}}function Qt(l,e,t){let{$$slots:n={},$$scope:i}=e;return l.$$set=s=>{"$$scope"in s&&t(0,i=s.$$scope)},[i,n]}class Rt extends Z{constructor(e){super(),x(this,e,Qt,Ft,ee,{})}}function Le(l){let e;const t=l[4].default,n=ke(t,l,l[3],null);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&we(n,t,i,i[3],e?qe(t,i[3],s,null):$e(i[3]),null)},i(i){e||(q(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function Pt(l){let e,t,n=l[0]===l[1]&&Le(l);return{c(){n&&n.c(),e=Xe()},m(i,s){n&&n.m(i,s),y(i,e,s),t=!0},p(i,[s]){i[0]===i[1]?n?(n.p(i,s),s&1&&q(n,1)):(n=Le(i),n.c(),q(n,1),n.m(e.parentNode,e)):n&&(ce(),S(n,1,1,()=>{n=null}),ae())},i(i){t||(q(n),t=!0)},o(i){S(n),t=!1},d(i){n&&n.d(i),i&&O(e)}}}function Bt(l,e,t){let n,{$$slots:i={},$$scope:s}=e;const r={},{registerPanel:u,selectedPanel:o}=We(Se);return Ce(l,o,a=>t(0,n=a)),u(r),l.$$set=a=>{"$$scope"in a&&t(3,s=a.$$scope)},[n,r,o,s,i]}class De extends Z{constructor(e){super(),x(this,e,Bt,Pt,ee,{})}}function It(l){let e;return{c(){e=h("input"),f(e,"class","inline-block mr-2"),f(e,"type","radio"),e.disabled=!0},m(t,n){y(t,e,n)},d(t){t&&O(e)}}}function Lt(l){let e;return{c(){e=h("input"),f(e,"class","inline-block mr-2"),f(e,"type","checkbox"),e.disabled=!0},m(t,n){y(t,e,n)},d(t){t&&O(e)}}}function Dt(l){let e,t,n,i,s,r,u,o,a;function _(d,b){return d[0]?Lt:It}let c=_(l),m=c(l);return r=new ue({props:{path:he,width:"25px",height:"25px"}}),{c(){e=h("div"),m.c(),t=C(),n=h("input"),i=C(),s=h("button"),B(r.$$.fragment),f(n,"class","flex-1 inline-block p-2 border border-gray-400"),n.disabled=!0,f(n,"placeholder","Others"),pe(n,"max-width","300px"),f(n,"type","text"),f(s,"aria-label","Remove option"),f(s,"class","ml-2 delete-question-button"),f(s,"title","Remove option"),f(e,"class","flex items-center mb-2 setup--question-item other-option-item")},m(d,b){y(d,e,b),m.m(e,null),p(e,t),p(e,n),p(e,i),p(e,s),I(r,s,null),u=!0,o||(a=R(s,"click",l[2]),o=!0)},p(d,[b]){c!==(c=_(d))&&(m.d(1),m=c(d),m&&(m.c(),m.m(e,t)))},i(d){u||(q(r.$$.fragment,d),u=!0)},o(d){S(r.$$.fragment,d),u=!1},d(d){d&&O(e),m.d(),L(r),o=!1,a()}}}function Nt(l,e,t){let{multiple:n=!1}=e;const i=be(),s=()=>i("delete");return l.$$set=r=>{"multiple"in r&&t(0,n=r.multiple)},[n,i,s]}class jt extends Z{constructor(e){super(),x(this,e,Nt,Dt,ee,{multiple:0})}}function Ne(l,e,t){const n=l.slice();return n[23]=e[t],n[24]=e,n[2]=t,n}function Et(l){let e,t,n,i,s,r,u,o=l[2]+1+"",a,_,c,m,d,b,g,k,v,A,F,E,ie,H,U,G,$,w,z,se,te,X,Y,Q,V,Oe,Ae;i=new ue({props:{path:he,width:"25px",height:"25px"}});let fe=l[0].options,D=[];for(let T=0;T<fe.length;T+=1)D[T]=je(Ne(l,fe,T));const Ze=T=>S(D[T],1,1,()=>{D[T]=null});let M=l[0].hasOtherOption&&Ee(l);E=new ue({props:{path:Ye,width:"25px",height:"25px"}});let K=!l[0].hasOtherOption&&Me(l);return{c(){e=h("div"),t=h("div"),n=h("button"),B(i.$$.fragment),s=C(),r=h("div"),u=h("div"),a=N(o),_=N("."),c=C(),m=h("div"),d=h("textarea"),b=C(),g=h("div");for(let T=0;T<D.length;T+=1)D[T].c();k=C(),M&&M.c(),v=C(),A=h("div"),F=h("button"),B(E.$$.fragment),ie=N(`
        Add new option`),H=C(),K&&K.c(),U=C(),G=h("label"),$=h("input"),w=C(),z=h("div"),z.textContent="Multiple",se=C(),te=h("label"),X=h("input"),Y=C(),Q=h("div"),Q.textContent="Required",f(n,"aria-label","Remove question"),f(n,"class","flex items-center px-3 py-2"),f(n,"title","Remove question"),f(t,"class","ml-auto"),f(e,"class","flex p-1 border-b"),f(u,"class","mr-2"),f(d,"class","p-2 setup--question-text"),f(d,"placeholder","Input a question"),f(d,"type","text"),f(d,"rows","3"),f(g,"class","flex flex-col justify-center mt-5"),f(m,"class","flex flex-col flex-1"),pe(m,"height","100%"),f(r,"class","flex w-full p-5 question-selection-type-inputs"),pe(r,"height","100%"),f(F,"class","flex items-center px-3 py-2"),f($,"type","checkbox"),f(z,"class","ml-2"),f(G,"class","flex items-center px-3 py-2"),f(G,"tabindex","0"),f(X,"type","checkbox"),f(Q,"class","ml-2"),f(te,"class","flex items-center px-3 py-2"),f(te,"tabindex","0"),f(A,"class","flex flex-col p-1 border-t md:flex-row")},m(T,P){y(T,e,P),p(e,t),p(t,n),I(i,n,null),y(T,s,P),y(T,r,P),p(r,u),p(u,a),p(u,_),p(r,c),p(r,m),p(m,d),l[11](d),le(d,l[0].text),p(m,b),p(m,g);for(let j=0;j<D.length;j+=1)D[j].m(g,null);p(g,k),M&&M.m(g,null),l[16](g),y(T,v,P),y(T,A,P),p(A,F),I(E,F,null),p(F,ie),p(A,H),K&&K.m(A,null),p(A,U),p(A,G),p(G,$),$.checked=l[0].multiple,p(G,w),p(G,z),p(A,se),p(A,te),p(te,X),X.checked=l[0].required,p(te,Y),p(te,Q),V=!0,Oe||(Ae=[R(n,"click",l[10]),R(d,"input",l[12]),R(F,"click",l[7]),R($,"change",l[18]),R(X,"change",l[19])],Oe=!0)},p(T,P){if((!V||P&4)&&o!==(o=T[2]+1+"")&&ne(a,o),P&1&&le(d,T[0].text),P&257){fe=T[0].options;let j;for(j=0;j<fe.length;j+=1){const Fe=Ne(T,fe,j);D[j]?(D[j].p(Fe,P),q(D[j],1)):(D[j]=je(Fe),D[j].c(),q(D[j],1),D[j].m(g,k))}for(ce(),j=fe.length;j<D.length;j+=1)Ze(j);ae()}T[0].hasOtherOption?M?(M.p(T,P),P&1&&q(M,1)):(M=Ee(T),M.c(),q(M,1),M.m(g,null)):M&&(ce(),S(M,1,1,()=>{M=null}),ae()),T[0].hasOtherOption?K&&(K.d(1),K=null):K?K.p(T,P):(K=Me(T),K.c(),K.m(A,U)),P&1&&($.checked=T[0].multiple),P&1&&(X.checked=T[0].required)},i(T){if(!V){q(i.$$.fragment,T);for(let P=0;P<fe.length;P+=1)q(D[P]);q(M),q(E.$$.fragment,T),V=!0}},o(T){S(i.$$.fragment,T),D=D.filter(Boolean);for(let P=0;P<D.length;P+=1)S(D[P]);S(M),S(E.$$.fragment,T),V=!1},d(T){T&&O(e),L(i),T&&O(s),T&&O(r),l[11](null),ye(D,T),M&&M.d(),l[16](null),T&&O(v),T&&O(A),L(E),K&&K.d(),Oe=!1,oe(Ae)}}}function Mt(l){let e,t;return e=new mt({props:{number:l[2]+1,question:l[0]}}),{c(){B(e.$$.fragment)},m(n,i){I(e,n,i),t=!0},p(n,i){const s={};i&4&&(s.number=n[2]+1),i&1&&(s.question=n[0]),e.$set(s)},i(n){t||(q(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function zt(l){let e;return{c(){e=h("input"),f(e,"class","inline-block mr-2"),f(e,"type","radio"),e.disabled=!0},m(t,n){y(t,e,n)},d(t){t&&O(e)}}}function Vt(l){let e;return{c(){e=h("input"),f(e,"class","inline-block mr-2"),f(e,"type","checkbox"),e.disabled=!0},m(t,n){y(t,e,n)},d(t){t&&O(e)}}}function je(l){let e,t,n,i,s,r,u,o,a;function _(g,k){return g[0].multiple?Vt:zt}let c=_(l),m=c(l);function d(){l[13].call(n,l[24],l[2])}r=new ue({props:{path:he,width:"25px",height:"25px"}});function b(){return l[14](l[2])}return{c(){e=h("div"),m.c(),t=C(),n=h("input"),i=C(),s=h("button"),B(r.$$.fragment),f(n,"class","flex-1 inline-block p-2"),pe(n,"max-width","300px"),f(n,"type","text"),f(s,"aria-label","Remove option"),f(s,"class","ml-2 delete-question-button"),f(s,"title","Remove option"),f(e,"class","flex items-center mb-2 setup--question-item")},m(g,k){y(g,e,k),m.m(e,null),p(e,t),p(e,n),le(n,l[23]),p(e,i),p(e,s),I(r,s,null),u=!0,o||(a=[R(n,"input",d),R(s,"click",b)],o=!0)},p(g,k){l=g,c!==(c=_(l))&&(m.d(1),m=c(l),m&&(m.c(),m.m(e,t))),k&1&&n.value!==l[23]&&le(n,l[23])},i(g){u||(q(r.$$.fragment,g),u=!0)},o(g){S(r.$$.fragment,g),u=!1},d(g){g&&O(e),m.d(),L(r),o=!1,oe(a)}}}function Ee(l){let e,t;return e=new jt({props:{multiple:l[0].multiple}}),e.$on("delete",l[15]),{c(){B(e.$$.fragment)},m(n,i){I(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.multiple=n[0].multiple),e.$set(s)},i(n){t||(q(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Me(l){let e,t,n;return{c(){e=h("button"),e.textContent='Add "other" option',f(e,"class","flex items-center px-3 py-2")},m(i,s){y(i,e,s),t||(n=R(e,"click",l[17]),t=!0)},p:ge,d(i){i&&O(e),t=!1,n()}}}function Ht(l){let e,t,n,i,s,r;const u=[Mt,Et],o=[];function a(_,c){return _[1]?0:1}return t=a(l),n=o[t]=u[t](l),{c(){e=h("div"),n.c(),f(e,"class","flex flex-col mt-2 question-selection-type"),f(e,"tabindex","0"),W(e,"preview",l[1]),W(e,"bg-gray-100",!l[1])},m(_,c){y(_,e,c),o[t].m(e,null),l[20](e),i=!0,s||(r=[R(e,"click",l[9]),R(e,"focusout",l[21])],s=!0)},p(_,[c]){let m=t;t=a(_),t===m?o[t].p(_,c):(ce(),S(o[m],1,1,()=>{o[m]=null}),ae(),n=o[t],n?n.p(_,c):(n=o[t]=u[t](_),n.c()),q(n,1),n.m(e,null)),(!i||c&2)&&W(e,"preview",_[1]),(!i||c&2)&&W(e,"bg-gray-100",!_[1])},i(_){i||(q(n),i=!0)},o(_){S(n),i=!1},d(_){_&&O(e),o[t].d(),l[20](null),s=!1,oe(r)}}}function Ut(l,e,t){const n=be();let{question:i}=e,{index:s=0}=e,{preview:r=!1}=e;i.options.length||(i.options=["Option 1","Option 2"]);let u,o,a;function _(){return _e(this,null,function*(){yield ve();const w=o.querySelectorAll(".setup--question-item:not(.other-option-item) input");w.length&&w[w.length-1].focus()})}function c(){t(0,i.options=[...i.options,"Option "+(i.options.length+1)],i),_()}function m(w){const z=[...i.options];z.splice(w,1),t(0,i.options=[...z],i)}function d(){return _e(this,null,function*(){const w=r;t(1,r=w&&!1),w&&(yield ve(),a.focus())})}const b=()=>n("delete",s);function g(w){J[w?"unshift":"push"](()=>{a=w,t(5,a)})}function k(){i.text=this.value,t(0,i)}function v(w,z){w[z]=this.value,t(0,i)}const A=w=>m(w),F=()=>t(0,i.hasOtherOption=!1,i);function E(w){J[w?"unshift":"push"](()=>{o=w,t(4,o)})}const ie=()=>t(0,i.hasOtherOption=!0,i);function H(){i.multiple=this.checked,t(0,i)}function U(){i.required=this.checked,t(0,i)}function G(w){J[w?"unshift":"push"](()=>{u=w,t(3,u)})}const $=w=>t(1,r=!u.contains(w.relatedTarget));return l.$$set=w=>{"question"in w&&t(0,i=w.question),"index"in w&&t(2,s=w.index),"preview"in w&&t(1,r=w.preview)},[i,r,s,u,o,a,n,c,m,d,b,g,k,v,A,F,E,ie,H,U,G,$]}class Gt extends Z{constructor(e){super(),x(this,e,Ut,Ht,ee,{question:0,index:2,preview:1})}}function Kt(l){let e,t,n,i,s,r,u,o=l[2]+1+"",a,_,c,m,d,b,g,k,v,A,F,E,ie,H,U,G,$,w,z,se;i=new ue({props:{path:he,width:"25px",height:"25px"}});function te(Q,V){return Q[0].multiline?Xt:Wt}let X=te(l),Y=X(l);return{c(){e=h("div"),t=h("div"),n=h("button"),B(i.$$.fragment),s=C(),r=h("div"),u=h("div"),a=N(o),_=N("."),c=C(),m=h("div"),d=h("textarea"),b=C(),Y.c(),g=C(),k=h("div"),v=h("label"),A=h("input"),F=C(),E=h("div"),E.textContent="Long answer",ie=C(),H=h("label"),U=h("input"),G=C(),$=h("div"),$.textContent="Required",f(n,"aria-label","Remove question"),f(n,"class","flex items-center px-3 py-2"),f(n,"title","Remove question"),f(t,"class","ml-auto"),f(e,"class","flex p-1 border-b"),f(u,"class","mr-2"),f(d,"class","p-2 setup--question-text"),f(d,"placeholder","Input a question"),f(d,"type","text"),f(d,"rows","3"),f(m,"class","flex flex-col flex-1"),pe(m,"height","100%"),f(r,"class","flex w-full p-5 question-selection-type-inputs"),pe(r,"height","100%"),f(A,"type","checkbox"),f(E,"class","ml-2"),f(v,"class","flex items-center px-3 py-2"),f(v,"tabindex","0"),f(U,"type","checkbox"),f($,"class","ml-2"),f(H,"class","flex items-center px-3 py-2"),f(H,"tabindex","0"),f(k,"class","flex flex-col p-1 border-t md:flex-row")},m(Q,V){y(Q,e,V),p(e,t),p(t,n),I(i,n,null),y(Q,s,V),y(Q,r,V),p(r,u),p(u,a),p(u,_),p(r,c),p(r,m),p(m,d),l[8](d),le(d,l[0].text),p(m,b),Y.m(m,null),y(Q,g,V),y(Q,k,V),p(k,v),p(v,A),A.checked=l[0].multiline,p(v,F),p(v,E),p(k,ie),p(k,H),p(H,U),U.checked=l[0].required,p(H,G),p(H,$),w=!0,z||(se=[R(n,"click",l[7]),R(d,"input",l[9]),R(A,"change",l[10]),R(U,"change",l[11])],z=!0)},p(Q,V){(!w||V&4)&&o!==(o=Q[2]+1+"")&&ne(a,o),V&1&&le(d,Q[0].text),X!==(X=te(Q))&&(Y.d(1),Y=X(Q),Y&&(Y.c(),Y.m(m,null))),V&1&&(A.checked=Q[0].multiline),V&1&&(U.checked=Q[0].required)},i(Q){w||(q(i.$$.fragment,Q),w=!0)},o(Q){S(i.$$.fragment,Q),w=!1},d(Q){Q&&O(e),L(i),Q&&O(s),Q&&O(r),l[8](null),Y.d(),Q&&O(g),Q&&O(k),z=!1,oe(se)}}}function Jt(l){let e,t;return e=new _t({props:{number:l[2]+1,question:l[0]}}),{c(){B(e.$$.fragment)},m(n,i){I(e,n,i),t=!0},p(n,i){const s={};i&4&&(s.number=n[2]+1),i&1&&(s.question=n[0]),e.$set(s)},i(n){t||(q(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Wt(l){let e;return{c(){e=h("input"),e.disabled=!0,f(e,"class","p-2 mt-2 border border-gray-400"),f(e,"placeholder","Input your answer"),f(e,"type","text")},m(t,n){y(t,e,n)},d(t){t&&O(e)}}}function Xt(l){let e;return{c(){e=h("textarea"),f(e,"class","p-2 mt-2 border border-gray-400"),e.disabled=!0,f(e,"placeholder","Input your answer"),f(e,"rows","3")},m(t,n){y(t,e,n)},d(t){t&&O(e)}}}function Yt(l){let e,t,n,i,s,r;const u=[Jt,Kt],o=[];function a(_,c){return _[1]?0:1}return t=a(l),n=o[t]=u[t](l),{c(){e=h("div"),n.c(),f(e,"class","flex flex-col mt-2 question-selection-type"),f(e,"tabindex","0"),W(e,"preview",l[1]),W(e,"bg-gray-100",!l[1])},m(_,c){y(_,e,c),o[t].m(e,null),l[12](e),i=!0,s||(r=[R(e,"click",l[6]),R(e,"focusout",l[13])],s=!0)},p(_,[c]){let m=t;t=a(_),t===m?o[t].p(_,c):(ce(),S(o[m],1,1,()=>{o[m]=null}),ae(),n=o[t],n?n.p(_,c):(n=o[t]=u[t](_),n.c()),q(n,1),n.m(e,null)),(!i||c&2)&&W(e,"preview",_[1]),(!i||c&2)&&W(e,"bg-gray-100",!_[1])},i(_){i||(q(n),i=!0)},o(_){S(n),i=!1},d(_){_&&O(e),o[t].d(),l[12](null),s=!1,oe(r)}}}function Zt(l,e,t){const n=be();let{question:i}=e,{index:s=0}=e,{preview:r=!1}=e,u,o;function a(){return _e(this,null,function*(){const v=r;t(1,r=v&&!1),v&&(yield ve(),o.focus())})}const _=()=>n("delete",s);function c(v){J[v?"unshift":"push"](()=>{o=v,t(4,o)})}function m(){i.text=this.value,t(0,i)}function d(){i.multiline=this.checked,t(0,i)}function b(){i.required=this.checked,t(0,i)}function g(v){J[v?"unshift":"push"](()=>{u=v,t(3,u)})}const k=v=>t(1,r=!u.contains(v.relatedTarget));return l.$$set=v=>{"question"in v&&t(0,i=v.question),"index"in v&&t(2,s=v.index),"preview"in v&&t(1,r=v.preview)},[i,r,s,u,o,n,a,_,c,m,d,b,g,k]}class xt extends Z{constructor(e){super(),x(this,e,Zt,Yt,ee,{question:0,index:2,preview:1})}}function el(l){let e,t,n,i,s,r,u,o,a,_,c,m=l[0]?"Sending...":"Send",d,b,g,k;return i=new ue({props:{path:he}}),a=new ue({props:{path:rt}}),{c(){e=h("div"),t=h("div"),n=h("button"),B(i.$$.fragment),s=C(),r=h("input"),u=C(),o=h("button"),B(a.$$.fragment),_=C(),c=h("button"),d=N(m),f(n,"aria-label","Delete form"),f(n,"class","flex items-center p-1 mx-2"),f(n,"title","Delete this form"),f(r,"aria-label","Form link"),f(r,"class","hidden px-2 py-2 border sm:inline-block"),f(r,"type","text"),r.value=l[1],f(r,"title",l[1]),r.readOnly=!0,f(o,"aria-label","Copy form link"),f(o,"class","p-1 mx-2"),f(o,"title","Copy form link"),f(c,"aria-label","Send the form"),f(c,"class","px-4 py-2 ml-auto font-bold btn btn--primary"),f(c,"title","Send form"),f(t,"class","flex margin-page"),f(e,"class","p-2 bg-white form-actions")},m(v,A){y(v,e,A),p(e,t),p(t,n),I(i,n,null),p(t,s),p(t,r),p(t,u),p(t,o),I(a,o,null),p(t,_),p(t,c),p(c,d),b=!0,g||(k=[R(n,"click",l[5]),R(r,"dblclick",tl),R(o,"click",l[3]),R(c,"click",l[4])],g=!0)},p(v,[A]){(!b||A&2&&r.value!==v[1])&&(r.value=v[1]),(!b||A&2)&&f(r,"title",v[1]),(!b||A&1)&&m!==(m=v[0]?"Sending...":"Send")&&ne(d,m)},i(v){b||(q(i.$$.fragment,v),q(a.$$.fragment,v),b=!0)},o(v){S(i.$$.fragment,v),S(a.$$.fragment,v),b=!1},d(v){v&&O(e),L(i),L(a),g=!1,oe(k)}}}const tl=l=>{var e;return(e=l.target)==null?void 0:e.select()};function ll(l,e,t){let n;const i=be();let s=!1;function r(){navigator.clipboard.writeText(n)}function u(){t(0,s=!0),setTimeout(()=>t(0,s=!1),2e3)}const o=()=>confirm("Are you sure want to delete this form?")&&i("delete-form-clicked");return t(1,n=location.toString().replace("/edit","")),[s,n,i,r,u,o]}class nl extends Z{constructor(e){super(),x(this,e,ll,el,ee,{})}}function ze(l,e,t){const n=l.slice();return n[22]=e[t],n}function Ve(l,e,t){const n=l.slice();return n[25]=e[t],n[27]=t,n}function He(l,e,t){const n=l.slice();return n[6]=e[t],n[28]=e,n[27]=t,n}function il(l){let e;return{c(){e=N("Questions")},m(t,n){y(t,e,n)},d(t){t&&O(e)}}}function sl(l){let e;return{c(){e=N("Answers")},m(t,n){y(t,e,n)},d(t){t&&O(e)}}}function ol(l){let e,t,n,i;return e=new Ie({props:{$$slots:{default:[il]},$$scope:{ctx:l}}}),n=new Ie({props:{$$slots:{default:[sl]},$$scope:{ctx:l}}}),{c(){B(e.$$.fragment),t=C(),B(n.$$.fragment)},m(s,r){I(e,s,r),y(s,t,r),I(n,s,r),i=!0},p(s,r){const u={};r&536870912&&(u.$$scope={dirty:r,ctx:s}),e.$set(u);const o={};r&536870912&&(o.$$scope={dirty:r,ctx:s}),n.$set(o)},i(s){i||(q(e.$$.fragment,s),q(n.$$.fragment,s),i=!0)},o(s){S(e.$$.fragment,s),S(n.$$.fragment,s),i=!1},d(s){L(e,s),s&&O(t),L(n,s)}}}function rl(l){let e,t,n,i;function s(o){l[15](o,l[6])}function r(o){l[16](o,l[6],l[28],l[27])}let u={index:l[27]};return l[6].preview!==void 0&&(u.preview=l[6].preview),l[6]!==void 0&&(u.question=l[6]),e=new xt({props:u}),J.push(()=>de(e,"preview",s)),J.push(()=>de(e,"question",r)),e.$on("delete",l[3]),{c(){B(e.$$.fragment)},m(o,a){I(e,o,a),i=!0},p(o,a){l=o;const _={};!t&&a&1&&(t=!0,_.preview=l[6].preview,me(()=>t=!1)),!n&&a&1&&(n=!0,_.question=l[6],me(()=>n=!1)),e.$set(_)},i(o){i||(q(e.$$.fragment,o),i=!0)},o(o){S(e.$$.fragment,o),i=!1},d(o){L(e,o)}}}function ul(l){let e,t,n,i;function s(o){l[13](o,l[6])}function r(o){l[14](o,l[6],l[28],l[27])}let u={index:l[27]};return l[6].preview!==void 0&&(u.preview=l[6].preview),l[6]!==void 0&&(u.question=l[6]),e=new Gt({props:u}),J.push(()=>de(e,"preview",s)),J.push(()=>de(e,"question",r)),e.$on("delete",l[3]),{c(){B(e.$$.fragment)},m(o,a){I(e,o,a),i=!0},p(o,a){l=o;const _={};!t&&a&1&&(t=!0,_.preview=l[6].preview,me(()=>t=!1)),!n&&a&1&&(n=!0,_.question=l[6],me(()=>n=!1)),e.$set(_)},i(o){i||(q(e.$$.fragment,o),i=!0)},o(o){S(e.$$.fragment,o),i=!1},d(o){L(e,o)}}}function Ue(l){let e,t,n,i;const s=[ul,rl],r=[];function u(o,a){return o[6].type==="selection"?0:o[6].type==="essay"?1:-1}return~(e=u(l))&&(t=r[e]=s[e](l)),{c(){t&&t.c(),n=Xe()},m(o,a){~e&&r[e].m(o,a),y(o,n,a),i=!0},p(o,a){let _=e;e=u(o),e===_?~e&&r[e].p(o,a):(t&&(ce(),S(r[_],1,1,()=>{r[_]=null}),ae()),~e?(t=r[e],t?t.p(o,a):(t=r[e]=s[e](o),t.c()),q(t,1),t.m(n.parentNode,n)):t=null)},i(o){i||(q(t),i=!0)},o(o){S(t),i=!1},d(o){~e&&r[e].d(o),o&&O(n)}}}function fl(l){let e,t,n,i,s,r,u,o,a;function _(k){l[11](k)}function c(k){l[12](k)}let m={};l[0].title!==void 0&&(m.title=l[0].title),l[0].description!==void 0&&(m.description=l[0].description),t=new yt({props:m}),J.push(()=>de(t,"title",_)),J.push(()=>de(t,"description",c));let d=l[0].questions,b=[];for(let k=0;k<d.length;k+=1)b[k]=Ue(He(l,d,k));const g=k=>S(b[k],1,1,()=>{b[k]=null});return o=new vt({}),o.$on("onSelectQuestionType",l[4]),{c(){e=h("div"),B(t.$$.fragment),s=C();for(let k=0;k<b.length;k+=1)b[k].c();r=C(),u=h("div"),B(o.$$.fragment),f(u,"class","p-5"),f(e,"class","p-5 form-setup-panel"),f(e,"tabindex","0")},m(k,v){y(k,e,v),I(t,e,null),p(e,s);for(let A=0;A<b.length;A+=1)b[A].m(e,null);p(e,r),p(e,u),I(o,u,null),l[17](e),a=!0},p(k,v){const A={};if(!n&&v&1&&(n=!0,A.title=k[0].title,me(()=>n=!1)),!i&&v&1&&(i=!0,A.description=k[0].description,me(()=>i=!1)),t.$set(A),v&9){d=k[0].questions;let F;for(F=0;F<d.length;F+=1){const E=He(k,d,F);b[F]?(b[F].p(E,v),q(b[F],1)):(b[F]=Ue(E),b[F].c(),q(b[F],1),b[F].m(e,r))}for(ce(),F=d.length;F<b.length;F+=1)g(F);ae()}},i(k){if(!a){q(t.$$.fragment,k);for(let v=0;v<d.length;v+=1)q(b[v]);q(o.$$.fragment,k),a=!0}},o(k){S(t.$$.fragment,k),b=b.filter(Boolean);for(let v=0;v<b.length;v+=1)S(b[v]);S(o.$$.fragment,k),a=!1},d(k){k&&O(e),L(t),ye(b,k),L(o),l[17](null)}}}function Ge(l){let e,t,n=l[27]+1+"",i,s,r,u,o=l[0].questions[l[27]].text+"",a,_,c,m=(l[0].questions[l[27]].multiple?l[25].filter(Je).join(", "):l[25])+"",d;return{c(){e=h("div"),t=h("div"),i=N(n),s=N("."),r=C(),u=h("div"),a=N(o),_=C(),c=h("div"),d=N(m),f(t,"class","mr-1"),f(u,"class","whitespace-pre"),f(e,"class","flex p-1 font-bold"),f(c,"class","p-1 ml-4 whitespace-pre")},m(b,g){y(b,e,g),p(e,t),p(t,i),p(t,s),p(e,r),p(e,u),p(u,a),y(b,_,g),y(b,c,g),p(c,d)},p(b,g){g&1&&o!==(o=b[0].questions[b[27]].text+"")&&ne(a,o),g&5&&m!==(m=(b[0].questions[b[27]].multiple?b[25].filter(Je).join(", "):b[25])+"")&&ne(d,m)},d(b){b&&O(e),b&&O(_),b&&O(c)}}}function Ke(l){let e,t,n=l[22].name+"",i,s,r=l[22].phoneNumber+"",u,o,a,_,c=l[22].answers,m=[];for(let d=0;d<c.length;d+=1)m[d]=Ge(Ve(l,c,d));return{c(){e=h("details"),t=h("summary"),i=N(n),s=N(" ("),u=N(r),o=N(")"),a=C();for(let d=0;d<m.length;d+=1)m[d].c();_=C(),f(t,"class","py-1 text-lg"),f(e,"class","mb-3 ml-1")},m(d,b){y(d,e,b),p(e,t),p(t,i),p(t,s),p(t,u),p(t,o),p(e,a);for(let g=0;g<m.length;g+=1)m[g].m(e,null);p(e,_)},p(d,b){if(b&4&&n!==(n=d[22].name+"")&&ne(i,n),b&4&&r!==(r=d[22].phoneNumber+"")&&ne(u,r),b&5){c=d[22].answers;let g;for(g=0;g<c.length;g+=1){const k=Ve(d,c,g);m[g]?m[g].p(k,b):(m[g]=Ge(k),m[g].c(),m[g].m(e,_))}for(;g<m.length;g+=1)m[g].d(1);m.length=c.length}},d(d){d&&O(e),ye(m,d)}}}function cl(l){let e,t,n,i=l[2].length+"",s,r,u,o,a,_,c=l[2],m=[];for(let d=0;d<c.length;d+=1)m[d]=Ke(ze(l,c,d));return{c(){e=h("div"),t=h("h2"),n=N("Answers from ("),s=N(i),r=N(" respondents)"),u=C(),o=h("hr"),a=C(),_=h("div");for(let d=0;d<m.length;d+=1)m[d].c();f(t,"class","text-xl"),f(o,"class","my-2"),f(_,"class","flex flex-col"),f(e,"class","p-5"),f(e,"tabindex","0")},m(d,b){y(d,e,b),p(e,t),p(t,n),p(t,s),p(t,r),p(e,u),p(e,o),p(e,a),p(e,_);for(let g=0;g<m.length;g+=1)m[g].m(_,null)},p(d,b){if(b&4&&i!==(i=d[2].length+"")&&ne(s,i),b&5){c=d[2];let g;for(g=0;g<c.length;g+=1){const k=ze(d,c,g);m[g]?m[g].p(k,b):(m[g]=Ke(k),m[g].c(),m[g].m(_,null))}for(;g<m.length;g+=1)m[g].d(1);m.length=c.length}},d(d){d&&O(e),ye(m,d)}}}function al(l){let e,t,n,i,s,r;return e=new Rt({props:{$$slots:{default:[ol]},$$scope:{ctx:l}}}),n=new De({props:{$$slots:{default:[fl]},$$scope:{ctx:l}}}),s=new De({props:{$$slots:{default:[cl]},$$scope:{ctx:l}}}),{c(){B(e.$$.fragment),t=C(),B(n.$$.fragment),i=C(),B(s.$$.fragment)},m(u,o){I(e,u,o),y(u,t,o),I(n,u,o),y(u,i,o),I(s,u,o),r=!0},p(u,o){const a={};o&536870912&&(a.$$scope={dirty:o,ctx:u}),e.$set(a);const _={};o&536870915&&(_.$$scope={dirty:o,ctx:u}),n.$set(_);const c={};o&536870917&&(c.$$scope={dirty:o,ctx:u}),s.$set(c)},i(u){r||(q(e.$$.fragment,u),q(n.$$.fragment,u),q(s.$$.fragment,u),r=!0)},o(u){S(e.$$.fragment,u),S(n.$$.fragment,u),S(s.$$.fragment,u),r=!1},d(u){L(e,u),u&&O(t),L(n,u),u&&O(i),L(s,u)}}}function pl(l){let e,t,n,i,s,r;return e=new nl({}),e.$on("delete-form-clicked",l[5]),s=new Ct({props:{$$slots:{default:[al]},$$scope:{ctx:l}}}),{c(){B(e.$$.fragment),t=C(),n=h("div"),i=h("div"),B(s.$$.fragment),f(i,"class","w-full mx-5 my-10 bg-transparent bg-white shadow-md"),pe(i,"max-width","700px"),f(n,"class","flex flex-col items-center")},m(u,o){I(e,u,o),y(u,t,o),y(u,n,o),p(n,i),I(s,i,null),r=!0},p(u,[o]){const a={};o&536870919&&(a.$$scope={dirty:o,ctx:u}),s.$set(a)},i(u){r||(q(e.$$.fragment,u),q(s.$$.fragment,u),r=!0)},o(u){S(e.$$.fragment,u),S(s.$$.fragment,u),r=!1},d(u){L(e,u),u&&O(t),u&&O(n),L(s)}}}const Je=l=>!!l;function dl(l,e,t){let n,i;Ce(l,ut,$=>t(10,i=$));let{params:s}=e,{id:r}=e,u=!1;const o={text:"Question",required:!1},a=Te(re({},o),{multiline:!1}),_=Te(re({},o),{options:[],hasOtherOption:!1,multiple:!1});let c=re({},bt);s&&s.id&&(r=s.id,c.id=r);let m;function d($){t(0,c.questions=[...c.questions,$],c)}function b({detail:$}){const w=c.questions;w.splice($,1),t(0,c.questions=w,c)}function g({detail:$}){let w={type:$};switch($){case"selection":w=re(re({},w),_);break;case"essay":w=re(re({},w),a);break}d(w),k()}function k(){return _e(this,null,function*(){yield ve(),document.activeElement.blur(),m.querySelector(".setup--question-text").focus()})}function v(){ft(c.id),ot("/")}st(()=>(ct(c.id)?t(0,c=pt(r)):at(c),document.body.classList.add("bg-color-2"),t(9,u=!0),()=>document.body.classList.remove("bg-color-2")));function A($){l.$$.not_equal(c.title,$)&&(c.title=$,t(0,c))}function F($){l.$$.not_equal(c.description,$)&&(c.description=$,t(0,c))}function E($,w){l.$$.not_equal(w.preview,$)&&(w.preview=$,t(0,c))}function ie($,w,z,se){z[se]=$,t(0,c)}function H($,w){l.$$.not_equal(w.preview,$)&&(w.preview=$,t(0,c))}function U($,w,z,se){z[se]=$,t(0,c)}function G($){J[$?"unshift":"push"](()=>{m=$,t(1,m)})}return l.$$set=$=>{"params"in $&&t(8,s=$.params),"id"in $&&t(7,r=$.id)},l.$$.update=()=>{l.$$.dirty&1&&(document.title=c.title+" - Simple Form Builder"),l.$$.dirty&641&&u&&c&&!!r&&dt(r,c),l.$$.dirty&1152&&t(2,n=i.filter($=>$.id===r))},[c,m,n,b,g,v,o,r,s,u,i,A,F,E,ie,H,U,G]}class gl extends Z{constructor(e){super(),x(this,e,dl,pl,ee,{params:8,id:7})}}export{gl as default};
