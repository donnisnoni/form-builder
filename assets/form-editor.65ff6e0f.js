var xe=Object.defineProperty,et=Object.defineProperties;var tt=Object.getOwnPropertyDescriptors;var Qe=Object.getOwnPropertySymbols;var nt=Object.prototype.hasOwnProperty,lt=Object.prototype.propertyIsEnumerable;var Re=(n,e,t)=>e in n?xe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,re=(n,e)=>{for(var t in e||(e={}))nt.call(e,t)&&Re(n,t,e[t]);if(Qe)for(var t of Qe(e))lt.call(e,t)&&Re(n,t,e[t]);return n},Oe=(n,e)=>et(n,tt(e));var _e=(n,e,t)=>new Promise((l,i)=>{var s=o=>{try{u(t.next(o))}catch(a){i(a)}},r=o=>{try{u(t.throw(o))}catch(a){i(a)}},u=o=>o.done?l(o.value):Promise.resolve(o.value).then(s,r);u((t=t.apply(n,e)).next())});import{S as Z,i as x,s as ee,e as h,c as I,a as C,b as f,d as y,f as d,m as B,D as R,u as ge,t as q,h as S,j as T,k as L,F as oe,K as be,L as J,G as W,C as ne,p as N,q as le,M as ke,N as we,O as $e,P as qe,Q as it,R as Pe,w as Ie,T as Je,o as Ce,x as Xe,A as ce,y as ae,B as pe,U as ve,n as ye,V as st,z as ot,W as rt,H as de,I as me}from"./index.6bc6849c.js";import{I as ue,d as Ye,e as he,h as ut,i as ft,r as ct,j as at,k as pt,g as dt,u as mt}from"./store.e3acc1bb.js";import{S as _t,T as bt,D as ht}from"./shared.38ee7c8c.js";function gt(n){let e,t,l,i,s,r,u,o,a,p,c,_,m,b,g,k;return l=new ue({props:{path:Ye,width:"20px",height:"20px"}}),{c(){e=h("button"),t=h("div"),I(l.$$.fragment),i=C(),s=h("div"),r=h("div"),r.textContent="Add question",u=C(),o=h("div"),a=h("button"),a.textContent="Options",p=C(),c=h("button"),c.textContent="Text",_=C(),m=h("button"),m.textContent="Others",f(t,"class","p-2"),f(r,"class","p-1 inner-label svelte-zro0s6"),f(a,"aria-label","Add question with options type"),f(a,"class","p-1 text-black bg-white"),f(c,"aria-label","Add question with essay type"),f(c,"class","p-1 text-black bg-white"),f(m,"class","p-1 text-black bg-white"),f(o,"class","hidden-buttons svelte-zro0s6"),f(e,"aria-label","Add question"),f(e,"class","flex items-center px-2 py-1 btn btn--primary svelte-zro0s6"),f(e,"title","Add a new question")},m(v,A){y(v,e,A),d(e,t),B(l,t,null),d(e,i),d(e,s),d(s,r),d(s,u),d(s,o),d(o,a),d(o,p),d(o,c),d(o,_),d(o,m),b=!0,g||(k=[R(a,"click",n[1]),R(c,"click",n[2])],g=!0)},p:ge,i(v){b||(q(l.$$.fragment,v),b=!0)},o(v){S(l.$$.fragment,v),b=!1},d(v){v&&T(e),L(l),g=!1,oe(k)}}}function vt(n){const e=be();function t(s){e("onSelectQuestionType",s)}return[t,()=>t("selection"),()=>t("essay")]}class kt extends Z{constructor(e){super(),x(this,e,vt,gt,ee,{})}}function wt(n){let e,t,l,i,s,r;return{c(){e=h("div"),t=h("input"),l=C(),i=h("textarea"),f(t,"class","p-2 mb-2 text-xl"),f(t,"placeholder","Form title"),f(t,"type","text"),f(i,"class","p-2"),f(i,"placeholder","Form description"),f(i,"type","text"),f(i,"rows","3"),f(e,"class","flex flex-col w-full p-5 bg-gray-100 form-meta-inputs")},m(u,o){y(u,e,o),d(e,t),n[5](t),ne(t,n[0]),d(e,l),d(e,i),ne(i,n[1]),s||(r=[R(t,"input",n[6]),R(i,"input",n[7])],s=!0)},p(u,o){o&1&&t.value!==u[0]&&ne(t,u[0]),o&2&&ne(i,u[1])},d(u){u&&T(e),n[5](null),s=!1,oe(r)}}}function $t(n){let e,t,l,i,s,r;return{c(){e=h("div"),t=h("h2"),l=N(n[0]),i=C(),s=h("p"),r=N(n[1]),f(t,"class","text-2xl"),f(s,"class","mt-2"),f(e,"class","p-5 form-meta-preview")},m(u,o){y(u,e,o),d(e,t),d(t,l),d(e,i),d(e,s),d(s,r)},p(u,o){o&1&&le(l,u[0]),o&2&&le(r,u[1])},d(u){u&&T(e)}}}function qt(n){let e,t,l;function i(u,o){return u[2]?$t:wt}let s=i(n),r=s(n);return{c(){e=h("div"),r.c(),f(e,"class","form-meta svelte-3kt2gd"),f(e,"tabindex","0"),J(e,"preview",n[2])},m(u,o){y(u,e,o),r.m(e,null),n[8](e),t||(l=[R(e,"click",n[9]),R(e,"focusout",n[10])],t=!0)},p(u,[o]){s===(s=i(u))&&r?r.p(u,o):(r.d(1),r=s(u),r&&(r.c(),r.m(e,null))),o&4&&J(e,"preview",u[2])},i:ge,o:ge,d(u){u&&T(e),r.d(),n[8](null),t=!1,oe(l)}}}function yt(n,e,t){let{title:l=""}=e,{description:i=""}=e,s=!0,r,u;function o(b){W[b?"unshift":"push"](()=>{u=b,t(3,u)})}function a(){l=this.value,t(0,l)}function p(){i=this.value,t(1,i)}function c(b){W[b?"unshift":"push"](()=>{r=b,t(4,r)})}const _=()=>t(2,s=s&&!1),m=b=>t(2,s=!r.contains(b.relatedTarget));return n.$$set=b=>{"title"in b&&t(0,l=b.title),"description"in b&&t(1,i=b.description)},n.$$.update=()=>{n.$$.dirty&12&&(s||u&&u.focus())},[l,i,s,u,r,o,a,p,c,_,m]}class Tt extends Z{constructor(e){super(),x(this,e,yt,qt,ee,{title:0,description:1})}}function Ot(n){let e,t;const l=n[1].default,i=ke(l,n,n[0],null);return{c(){e=h("div"),i&&i.c(),f(e,"class","tabs")},m(s,r){y(s,e,r),i&&i.m(e,null),t=!0},p(s,[r]){i&&i.p&&(!t||r&1)&&we(i,l,s,s[0],t?qe(l,s[0],r,null):$e(s[0]),null)},i(s){t||(q(i,s),t=!0)},o(s){S(i,s),t=!1},d(s){s&&T(e),i&&i.d(s)}}}const Se={};function Ct(n,e,t){let{$$slots:l={},$$scope:i}=e;const s=[],r=[],u=Ie(null),o=Ie(null);return it(Se,{registerTab:a=>{s.push(a),u.update(p=>p||a),Pe(()=>{const p=s.indexOf(a);s.splice(p,1),u.update(c=>c===a?s[p]||s[s.length-1]:c)})},registerPanel:a=>{r.push(a),o.update(p=>p||a),Pe(()=>{const p=r.indexOf(a);r.splice(p,1),o.update(c=>c===a?r[p]||r[r.length-1]:c)})},selectTab:a=>{const p=s.indexOf(a);u.set(a),o.set(r[p])},selectedTab:u,selectedPanel:o}),n.$$set=a=>{"$$scope"in a&&t(0,i=a.$$scope)},[i,l]}class St extends Z{constructor(e){super(),x(this,e,Ct,Ot,ee,{})}}function At(n){let e,t,l,i;const s=n[5].default,r=ke(s,n,n[4],null);return{c(){e=h("button"),r&&r.c(),f(e,"class","svelte-h15v9t"),J(e,"selected",n[0]===n[1])},m(u,o){y(u,e,o),r&&r.m(e,null),t=!0,l||(i=R(e,"click",n[6]),l=!0)},p(u,[o]){r&&r.p&&(!t||o&16)&&we(r,s,u,u[4],t?qe(s,u[4],o,null):$e(u[4]),null),o&3&&J(e,"selected",u[0]===u[1])},i(u){t||(q(r,u),t=!0)},o(u){S(r,u),t=!1},d(u){u&&T(e),r&&r.d(u),l=!1,i()}}}function Ft(n,e,t){let l,{$$slots:i={},$$scope:s}=e;const r={},{registerTab:u,selectTab:o,selectedTab:a}=Je(Se);Ce(n,a,c=>t(0,l=c)),u(r);const p=()=>o(r);return n.$$set=c=>{"$$scope"in c&&t(4,s=c.$$scope)},[l,r,o,a,s,i,p]}class Be extends Z{constructor(e){super(),x(this,e,Ft,At,ee,{})}}function Qt(n){let e,t;const l=n[1].default,i=ke(l,n,n[0],null);return{c(){e=h("div"),i&&i.c(),f(e,"class","tab-list svelte-113el8c")},m(s,r){y(s,e,r),i&&i.m(e,null),t=!0},p(s,[r]){i&&i.p&&(!t||r&1)&&we(i,l,s,s[0],t?qe(l,s[0],r,null):$e(s[0]),null)},i(s){t||(q(i,s),t=!0)},o(s){S(i,s),t=!1},d(s){s&&T(e),i&&i.d(s)}}}function Rt(n,e,t){let{$$slots:l={},$$scope:i}=e;return n.$$set=s=>{"$$scope"in s&&t(0,i=s.$$scope)},[i,l]}class Pt extends Z{constructor(e){super(),x(this,e,Rt,Qt,ee,{})}}function Le(n){let e;const t=n[4].default,l=ke(t,n,n[3],null);return{c(){l&&l.c()},m(i,s){l&&l.m(i,s),e=!0},p(i,s){l&&l.p&&(!e||s&8)&&we(l,t,i,i[3],e?qe(t,i[3],s,null):$e(i[3]),null)},i(i){e||(q(l,i),e=!0)},o(i){S(l,i),e=!1},d(i){l&&l.d(i)}}}function It(n){let e,t,l=n[0]===n[1]&&Le(n);return{c(){l&&l.c(),e=Xe()},m(i,s){l&&l.m(i,s),y(i,e,s),t=!0},p(i,[s]){i[0]===i[1]?l?(l.p(i,s),s&1&&q(l,1)):(l=Le(i),l.c(),q(l,1),l.m(e.parentNode,e)):l&&(ce(),S(l,1,1,()=>{l=null}),ae())},i(i){t||(q(l),t=!0)},o(i){S(l),t=!1},d(i){l&&l.d(i),i&&T(e)}}}function Bt(n,e,t){let l,{$$slots:i={},$$scope:s}=e;const r={},{registerPanel:u,selectedPanel:o}=Je(Se);return Ce(n,o,a=>t(0,l=a)),u(r),n.$$set=a=>{"$$scope"in a&&t(3,s=a.$$scope)},[l,r,o,s,i]}class De extends Z{constructor(e){super(),x(this,e,Bt,It,ee,{})}}function Lt(n){let e;return{c(){e=h("input"),f(e,"class","inline-block mr-2"),f(e,"type","radio"),e.disabled=!0},m(t,l){y(t,e,l)},d(t){t&&T(e)}}}function Dt(n){let e;return{c(){e=h("input"),f(e,"class","inline-block mr-2"),f(e,"type","checkbox"),e.disabled=!0},m(t,l){y(t,e,l)},d(t){t&&T(e)}}}function Nt(n){let e,t,l,i,s,r,u,o,a;function p(m,b){return m[0]?Dt:Lt}let c=p(n),_=c(n);return r=new ue({props:{path:he,width:"25px",height:"25px"}}),{c(){e=h("div"),_.c(),t=C(),l=h("input"),i=C(),s=h("button"),I(r.$$.fragment),f(l,"class","flex-1 inline-block p-2 border border-gray-400"),l.disabled=!0,f(l,"placeholder","Others"),pe(l,"max-width","300px"),f(l,"type","text"),f(s,"aria-label","Remove option"),f(s,"class","ml-2 delete-question-button"),f(s,"title","Remove option"),f(e,"class","flex items-center mb-2 setup--question-item other-option-item")},m(m,b){y(m,e,b),_.m(e,null),d(e,t),d(e,l),d(e,i),d(e,s),B(r,s,null),u=!0,o||(a=R(s,"click",n[2]),o=!0)},p(m,[b]){c!==(c=p(m))&&(_.d(1),_=c(m),_&&(_.c(),_.m(e,t)))},i(m){u||(q(r.$$.fragment,m),u=!0)},o(m){S(r.$$.fragment,m),u=!1},d(m){m&&T(e),_.d(),L(r),o=!1,a()}}}function jt(n,e,t){let{multiple:l=!1}=e;const i=be(),s=()=>i("delete");return n.$$set=r=>{"multiple"in r&&t(0,l=r.multiple)},[l,i,s]}class Et extends Z{constructor(e){super(),x(this,e,jt,Nt,ee,{multiple:0})}}function Ne(n,e,t){const l=n.slice();return l[23]=e[t],l[24]=e,l[2]=t,l}function Mt(n){let e,t,l,i,s,r,u,o=n[2]+1+"",a,p,c,_,m,b,g,k,v,A,F,E,ie,U,V,G,$,w,z,se,te,X,Y,Q,H,Te,Ae;i=new ue({props:{path:he,width:"25px",height:"25px"}});let fe=n[0].options,D=[];for(let O=0;O<fe.length;O+=1)D[O]=je(Ne(n,fe,O));const Ze=O=>S(D[O],1,1,()=>{D[O]=null});let M=n[0].hasOtherOption&&Ee(n);E=new ue({props:{path:Ye,width:"25px",height:"25px"}});let K=!n[0].hasOtherOption&&Me(n);return{c(){e=h("div"),t=h("div"),l=h("button"),I(i.$$.fragment),s=C(),r=h("div"),u=h("div"),a=N(o),p=N("."),c=C(),_=h("div"),m=h("textarea"),b=C(),g=h("div");for(let O=0;O<D.length;O+=1)D[O].c();k=C(),M&&M.c(),v=C(),A=h("div"),F=h("button"),I(E.$$.fragment),ie=N(`
        Add new option`),U=C(),K&&K.c(),V=C(),G=h("label"),$=h("input"),w=C(),z=h("div"),z.textContent="Multiple",se=C(),te=h("label"),X=h("input"),Y=C(),Q=h("div"),Q.textContent="Required",f(l,"aria-label","Remove question"),f(l,"class","flex items-center px-3 py-2"),f(l,"title","Remove question"),f(t,"class","ml-auto"),f(e,"class","flex p-1 border-b"),f(u,"class","mr-2"),f(m,"class","p-2 setup--question-text"),f(m,"placeholder","Input a question"),f(m,"type","text"),f(m,"rows","3"),f(g,"class","flex flex-col justify-center mt-5"),f(_,"class","flex flex-col flex-1"),pe(_,"height","100%"),f(r,"class","flex w-full p-5 question-selection-type-inputs"),pe(r,"height","100%"),f(F,"class","flex items-center px-3 py-2"),f($,"type","checkbox"),f(z,"class","ml-2"),f(G,"class","flex items-center px-3 py-2"),f(G,"tabindex","0"),f(X,"type","checkbox"),f(Q,"class","ml-2"),f(te,"class","flex items-center px-3 py-2"),f(te,"tabindex","0"),f(A,"class","flex flex-col p-1 border-t md:flex-row")},m(O,P){y(O,e,P),d(e,t),d(t,l),B(i,l,null),y(O,s,P),y(O,r,P),d(r,u),d(u,a),d(u,p),d(r,c),d(r,_),d(_,m),n[11](m),ne(m,n[0].text),d(_,b),d(_,g);for(let j=0;j<D.length;j+=1)D[j].m(g,null);d(g,k),M&&M.m(g,null),n[16](g),y(O,v,P),y(O,A,P),d(A,F),B(E,F,null),d(F,ie),d(A,U),K&&K.m(A,null),d(A,V),d(A,G),d(G,$),$.checked=n[0].multiple,d(G,w),d(G,z),d(A,se),d(A,te),d(te,X),X.checked=n[0].required,d(te,Y),d(te,Q),H=!0,Te||(Ae=[R(l,"click",n[10]),R(m,"input",n[12]),R(F,"click",n[7]),R($,"change",n[18]),R(X,"change",n[19])],Te=!0)},p(O,P){if((!H||P&4)&&o!==(o=O[2]+1+"")&&le(a,o),P&1&&ne(m,O[0].text),P&257){fe=O[0].options;let j;for(j=0;j<fe.length;j+=1){const Fe=Ne(O,fe,j);D[j]?(D[j].p(Fe,P),q(D[j],1)):(D[j]=je(Fe),D[j].c(),q(D[j],1),D[j].m(g,k))}for(ce(),j=fe.length;j<D.length;j+=1)Ze(j);ae()}O[0].hasOtherOption?M?(M.p(O,P),P&1&&q(M,1)):(M=Ee(O),M.c(),q(M,1),M.m(g,null)):M&&(ce(),S(M,1,1,()=>{M=null}),ae()),O[0].hasOtherOption?K&&(K.d(1),K=null):K?K.p(O,P):(K=Me(O),K.c(),K.m(A,V)),P&1&&($.checked=O[0].multiple),P&1&&(X.checked=O[0].required)},i(O){if(!H){q(i.$$.fragment,O);for(let P=0;P<fe.length;P+=1)q(D[P]);q(M),q(E.$$.fragment,O),H=!0}},o(O){S(i.$$.fragment,O),D=D.filter(Boolean);for(let P=0;P<D.length;P+=1)S(D[P]);S(M),S(E.$$.fragment,O),H=!1},d(O){O&&T(e),L(i),O&&T(s),O&&T(r),n[11](null),ye(D,O),M&&M.d(),n[16](null),O&&T(v),O&&T(A),L(E),K&&K.d(),Te=!1,oe(Ae)}}}function zt(n){let e,t;return e=new _t({props:{number:n[2]+1,question:n[0]}}),{c(){I(e.$$.fragment)},m(l,i){B(e,l,i),t=!0},p(l,i){const s={};i&4&&(s.number=l[2]+1),i&1&&(s.question=l[0]),e.$set(s)},i(l){t||(q(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function Ht(n){let e;return{c(){e=h("input"),f(e,"class","inline-block mr-2"),f(e,"type","radio"),e.disabled=!0},m(t,l){y(t,e,l)},d(t){t&&T(e)}}}function Ut(n){let e;return{c(){e=h("input"),f(e,"class","inline-block mr-2"),f(e,"type","checkbox"),e.disabled=!0},m(t,l){y(t,e,l)},d(t){t&&T(e)}}}function je(n){let e,t,l,i,s,r,u,o,a;function p(g,k){return g[0].multiple?Ut:Ht}let c=p(n),_=c(n);function m(){n[13].call(l,n[24],n[2])}r=new ue({props:{path:he,width:"25px",height:"25px"}});function b(){return n[14](n[2])}return{c(){e=h("div"),_.c(),t=C(),l=h("input"),i=C(),s=h("button"),I(r.$$.fragment),f(l,"class","flex-1 inline-block p-2"),pe(l,"max-width","300px"),f(l,"type","text"),f(s,"aria-label","Remove option"),f(s,"class","ml-2 delete-question-button"),f(s,"title","Remove option"),f(e,"class","flex items-center mb-2 setup--question-item")},m(g,k){y(g,e,k),_.m(e,null),d(e,t),d(e,l),ne(l,n[23]),d(e,i),d(e,s),B(r,s,null),u=!0,o||(a=[R(l,"input",m),R(s,"click",b)],o=!0)},p(g,k){n=g,c!==(c=p(n))&&(_.d(1),_=c(n),_&&(_.c(),_.m(e,t))),k&1&&l.value!==n[23]&&ne(l,n[23])},i(g){u||(q(r.$$.fragment,g),u=!0)},o(g){S(r.$$.fragment,g),u=!1},d(g){g&&T(e),_.d(),L(r),o=!1,oe(a)}}}function Ee(n){let e,t;return e=new Et({props:{multiple:n[0].multiple}}),e.$on("delete",n[15]),{c(){I(e.$$.fragment)},m(l,i){B(e,l,i),t=!0},p(l,i){const s={};i&1&&(s.multiple=l[0].multiple),e.$set(s)},i(l){t||(q(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function Me(n){let e,t,l;return{c(){e=h("button"),e.textContent='Add "other" option',f(e,"class","flex items-center px-3 py-2")},m(i,s){y(i,e,s),t||(l=R(e,"click",n[17]),t=!0)},p:ge,d(i){i&&T(e),t=!1,l()}}}function Vt(n){let e,t,l,i,s,r;const u=[zt,Mt],o=[];function a(p,c){return p[1]?0:1}return t=a(n),l=o[t]=u[t](n),{c(){e=h("div"),l.c(),f(e,"class","flex flex-col mt-2 question-selection-type"),f(e,"tabindex","0"),J(e,"preview",n[1]),J(e,"bg-gray-100",!n[1])},m(p,c){y(p,e,c),o[t].m(e,null),n[20](e),i=!0,s||(r=[R(e,"click",n[9]),R(e,"focusout",n[21])],s=!0)},p(p,[c]){let _=t;t=a(p),t===_?o[t].p(p,c):(ce(),S(o[_],1,1,()=>{o[_]=null}),ae(),l=o[t],l?l.p(p,c):(l=o[t]=u[t](p),l.c()),q(l,1),l.m(e,null)),c&2&&J(e,"preview",p[1]),c&2&&J(e,"bg-gray-100",!p[1])},i(p){i||(q(l),i=!0)},o(p){S(l),i=!1},d(p){p&&T(e),o[t].d(),n[20](null),s=!1,oe(r)}}}function Gt(n,e,t){const l=be();let{question:i}=e,{index:s=0}=e,{preview:r=!1}=e;i.options.length||(i.options=["Option 1","Option 2"]);let u,o,a;function p(){return _e(this,null,function*(){yield ve();const w=o.querySelectorAll(".setup--question-item:not(.other-option-item) input");w.length&&w[w.length-1].focus()})}function c(){t(0,i.options=[...i.options,"Option "+(i.options.length+1)],i),p()}function _(w){const z=[...i.options];z.splice(w,1),t(0,i.options=[...z],i)}function m(){return _e(this,null,function*(){const w=r;t(1,r=w&&!1),w&&(yield ve(),a.focus())})}const b=()=>l("delete",s);function g(w){W[w?"unshift":"push"](()=>{a=w,t(5,a)})}function k(){i.text=this.value,t(0,i)}function v(w,z){w[z]=this.value,t(0,i)}const A=w=>_(w),F=()=>t(0,i.hasOtherOption=!1,i);function E(w){W[w?"unshift":"push"](()=>{o=w,t(4,o)})}const ie=()=>t(0,i.hasOtherOption=!0,i);function U(){i.multiple=this.checked,t(0,i)}function V(){i.required=this.checked,t(0,i)}function G(w){W[w?"unshift":"push"](()=>{u=w,t(3,u)})}const $=w=>t(1,r=!u.contains(w.relatedTarget));return n.$$set=w=>{"question"in w&&t(0,i=w.question),"index"in w&&t(2,s=w.index),"preview"in w&&t(1,r=w.preview)},[i,r,s,u,o,a,l,c,_,m,b,g,k,v,A,F,E,ie,U,V,G,$]}class Kt extends Z{constructor(e){super(),x(this,e,Gt,Vt,ee,{question:0,index:2,preview:1})}}function Wt(n){let e,t,l,i,s,r,u,o=n[2]+1+"",a,p,c,_,m,b,g,k,v,A,F,E,ie,U,V,G,$,w,z,se;i=new ue({props:{path:he,width:"25px",height:"25px"}});function te(Q,H){return Q[0].multiline?Yt:Xt}let X=te(n),Y=X(n);return{c(){e=h("div"),t=h("div"),l=h("button"),I(i.$$.fragment),s=C(),r=h("div"),u=h("div"),a=N(o),p=N("."),c=C(),_=h("div"),m=h("textarea"),b=C(),Y.c(),g=C(),k=h("div"),v=h("label"),A=h("input"),F=C(),E=h("div"),E.textContent="Long answer",ie=C(),U=h("label"),V=h("input"),G=C(),$=h("div"),$.textContent="Required",f(l,"aria-label","Remove question"),f(l,"class","flex items-center px-3 py-2"),f(l,"title","Remove question"),f(t,"class","ml-auto"),f(e,"class","flex p-1 border-b"),f(u,"class","mr-2"),f(m,"class","p-2 setup--question-text"),f(m,"placeholder","Input a question"),f(m,"type","text"),f(m,"rows","3"),f(_,"class","flex flex-col flex-1"),pe(_,"height","100%"),f(r,"class","flex w-full p-5 question-selection-type-inputs"),pe(r,"height","100%"),f(A,"type","checkbox"),f(E,"class","ml-2"),f(v,"class","flex items-center px-3 py-2"),f(v,"tabindex","0"),f(V,"type","checkbox"),f($,"class","ml-2"),f(U,"class","flex items-center px-3 py-2"),f(U,"tabindex","0"),f(k,"class","flex flex-col p-1 border-t md:flex-row")},m(Q,H){y(Q,e,H),d(e,t),d(t,l),B(i,l,null),y(Q,s,H),y(Q,r,H),d(r,u),d(u,a),d(u,p),d(r,c),d(r,_),d(_,m),n[8](m),ne(m,n[0].text),d(_,b),Y.m(_,null),y(Q,g,H),y(Q,k,H),d(k,v),d(v,A),A.checked=n[0].multiline,d(v,F),d(v,E),d(k,ie),d(k,U),d(U,V),V.checked=n[0].required,d(U,G),d(U,$),w=!0,z||(se=[R(l,"click",n[7]),R(m,"input",n[9]),R(A,"change",n[10]),R(V,"change",n[11])],z=!0)},p(Q,H){(!w||H&4)&&o!==(o=Q[2]+1+"")&&le(a,o),H&1&&ne(m,Q[0].text),X!==(X=te(Q))&&(Y.d(1),Y=X(Q),Y&&(Y.c(),Y.m(_,null))),H&1&&(A.checked=Q[0].multiline),H&1&&(V.checked=Q[0].required)},i(Q){w||(q(i.$$.fragment,Q),w=!0)},o(Q){S(i.$$.fragment,Q),w=!1},d(Q){Q&&T(e),L(i),Q&&T(s),Q&&T(r),n[8](null),Y.d(),Q&&T(g),Q&&T(k),z=!1,oe(se)}}}function Jt(n){let e,t;return e=new bt({props:{number:n[2]+1,question:n[0]}}),{c(){I(e.$$.fragment)},m(l,i){B(e,l,i),t=!0},p(l,i){const s={};i&4&&(s.number=l[2]+1),i&1&&(s.question=l[0]),e.$set(s)},i(l){t||(q(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){L(e,l)}}}function Xt(n){let e;return{c(){e=h("input"),e.disabled=!0,f(e,"class","p-2 mt-2 border border-gray-400"),f(e,"placeholder","Input your answer"),f(e,"type","text")},m(t,l){y(t,e,l)},d(t){t&&T(e)}}}function Yt(n){let e;return{c(){e=h("textarea"),f(e,"class","p-2 mt-2 border border-gray-400"),e.disabled=!0,f(e,"placeholder","Input your answer"),f(e,"rows","3")},m(t,l){y(t,e,l)},d(t){t&&T(e)}}}function Zt(n){let e,t,l,i,s,r;const u=[Jt,Wt],o=[];function a(p,c){return p[1]?0:1}return t=a(n),l=o[t]=u[t](n),{c(){e=h("div"),l.c(),f(e,"class","flex flex-col mt-2 question-selection-type"),f(e,"tabindex","0"),J(e,"preview",n[1]),J(e,"bg-gray-100",!n[1])},m(p,c){y(p,e,c),o[t].m(e,null),n[12](e),i=!0,s||(r=[R(e,"click",n[6]),R(e,"focusout",n[13])],s=!0)},p(p,[c]){let _=t;t=a(p),t===_?o[t].p(p,c):(ce(),S(o[_],1,1,()=>{o[_]=null}),ae(),l=o[t],l?l.p(p,c):(l=o[t]=u[t](p),l.c()),q(l,1),l.m(e,null)),c&2&&J(e,"preview",p[1]),c&2&&J(e,"bg-gray-100",!p[1])},i(p){i||(q(l),i=!0)},o(p){S(l),i=!1},d(p){p&&T(e),o[t].d(),n[12](null),s=!1,oe(r)}}}function xt(n,e,t){const l=be();let{question:i}=e,{index:s=0}=e,{preview:r=!1}=e,u,o;function a(){return _e(this,null,function*(){const v=r;t(1,r=v&&!1),v&&(yield ve(),o.focus())})}const p=()=>l("delete",s);function c(v){W[v?"unshift":"push"](()=>{o=v,t(4,o)})}function _(){i.text=this.value,t(0,i)}function m(){i.multiline=this.checked,t(0,i)}function b(){i.required=this.checked,t(0,i)}function g(v){W[v?"unshift":"push"](()=>{u=v,t(3,u)})}const k=v=>t(1,r=!u.contains(v.relatedTarget));return n.$$set=v=>{"question"in v&&t(0,i=v.question),"index"in v&&t(2,s=v.index),"preview"in v&&t(1,r=v.preview)},[i,r,s,u,o,l,a,p,c,_,m,b,g,k]}class en extends Z{constructor(e){super(),x(this,e,xt,Zt,ee,{question:0,index:2,preview:1})}}function tn(n){let e,t,l,i,s,r,u,o,a,p,c,_=n[0]?"Sending...":"Send",m,b,g,k;return i=new ue({props:{path:he}}),a=new ue({props:{path:ut}}),{c(){e=h("div"),t=h("div"),l=h("button"),I(i.$$.fragment),s=C(),r=h("input"),u=C(),o=h("button"),I(a.$$.fragment),p=C(),c=h("button"),m=N(_),f(l,"aria-label","Delete form"),f(l,"class","flex items-center p-1 mx-2"),f(l,"title","Delete this form"),f(r,"aria-label","Form link"),f(r,"class","hidden px-4 py-2 border sm:inline-block"),f(r,"type","text"),r.value=n[1],f(r,"title",n[1]),f(o,"aria-label","Copy form link"),f(o,"class","p-1 mx-2"),f(o,"title","Copy form link"),f(c,"aria-label","Send the form"),f(c,"class","px-4 py-2 ml-auto font-bold btn btn--primary"),f(c,"title","Send form"),f(t,"class","flex margin-page"),f(e,"class","p-2 bg-white form-actions")},m(v,A){y(v,e,A),d(e,t),d(t,l),B(i,l,null),d(t,s),d(t,r),d(t,u),d(t,o),B(a,o,null),d(t,p),d(t,c),d(c,m),b=!0,g||(k=[R(l,"click",n[6]),R(r,"click",n[3]),R(o,"click",n[3]),R(c,"click",n[4])],g=!0)},p(v,[A]){(!b||A&2&&r.value!==v[1])&&(r.value=v[1]),(!b||A&2)&&f(r,"title",v[1]),(!b||A&1)&&_!==(_=v[0]?"Sending...":"Send")&&le(m,_)},i(v){b||(q(i.$$.fragment,v),q(a.$$.fragment,v),b=!0)},o(v){S(i.$$.fragment,v),S(a.$$.fragment,v),b=!1},d(v){v&&T(e),L(i),L(a),g=!1,oe(k)}}}function nn(n,e,t){let l;const i=be();let{id:s=""}=e,r=!1;function u(){navigator.clipboard.writeText(l)}function o(){t(0,r=!0),setTimeout(()=>{t(0,r=!1)},2e3)}const a=()=>confirm("Are you sure want to delete this form?")&&i("delete-form-clicked");return n.$$set=p=>{"id"in p&&t(5,s=p.id)},n.$$.update=()=>{n.$$.dirty&32&&t(1,l=st("https://donnisnoni.github.io/simple-form-builder/",`#/form/${s}`))},[r,l,i,u,o,s,a]}class ln extends Z{constructor(e){super(),x(this,e,nn,tn,ee,{id:5})}}function ze(n,e,t){const l=n.slice();return l[22]=e[t],l}function He(n,e,t){const l=n.slice();return l[25]=e[t],l[27]=t,l}function Ue(n,e,t){const l=n.slice();return l[6]=e[t],l[28]=e,l[27]=t,l}function sn(n){let e;return{c(){e=N("Questions")},m(t,l){y(t,e,l)},d(t){t&&T(e)}}}function on(n){let e;return{c(){e=N("Answers")},m(t,l){y(t,e,l)},d(t){t&&T(e)}}}function rn(n){let e,t,l,i;return e=new Be({props:{$$slots:{default:[sn]},$$scope:{ctx:n}}}),l=new Be({props:{$$slots:{default:[on]},$$scope:{ctx:n}}}),{c(){I(e.$$.fragment),t=C(),I(l.$$.fragment)},m(s,r){B(e,s,r),y(s,t,r),B(l,s,r),i=!0},p(s,r){const u={};r&536870912&&(u.$$scope={dirty:r,ctx:s}),e.$set(u);const o={};r&536870912&&(o.$$scope={dirty:r,ctx:s}),l.$set(o)},i(s){i||(q(e.$$.fragment,s),q(l.$$.fragment,s),i=!0)},o(s){S(e.$$.fragment,s),S(l.$$.fragment,s),i=!1},d(s){L(e,s),s&&T(t),L(l,s)}}}function un(n){let e,t,l,i;function s(o){n[15](o,n[6])}function r(o){n[16](o,n[6],n[28],n[27])}let u={index:n[27]};return n[6].preview!==void 0&&(u.preview=n[6].preview),n[6]!==void 0&&(u.question=n[6]),e=new en({props:u}),W.push(()=>de(e,"preview",s)),W.push(()=>de(e,"question",r)),e.$on("delete",n[3]),{c(){I(e.$$.fragment)},m(o,a){B(e,o,a),i=!0},p(o,a){n=o;const p={};!t&&a&1&&(t=!0,p.preview=n[6].preview,me(()=>t=!1)),!l&&a&1&&(l=!0,p.question=n[6],me(()=>l=!1)),e.$set(p)},i(o){i||(q(e.$$.fragment,o),i=!0)},o(o){S(e.$$.fragment,o),i=!1},d(o){L(e,o)}}}function fn(n){let e,t,l,i;function s(o){n[13](o,n[6])}function r(o){n[14](o,n[6],n[28],n[27])}let u={index:n[27]};return n[6].preview!==void 0&&(u.preview=n[6].preview),n[6]!==void 0&&(u.question=n[6]),e=new Kt({props:u}),W.push(()=>de(e,"preview",s)),W.push(()=>de(e,"question",r)),e.$on("delete",n[3]),{c(){I(e.$$.fragment)},m(o,a){B(e,o,a),i=!0},p(o,a){n=o;const p={};!t&&a&1&&(t=!0,p.preview=n[6].preview,me(()=>t=!1)),!l&&a&1&&(l=!0,p.question=n[6],me(()=>l=!1)),e.$set(p)},i(o){i||(q(e.$$.fragment,o),i=!0)},o(o){S(e.$$.fragment,o),i=!1},d(o){L(e,o)}}}function Ve(n){let e,t,l,i;const s=[fn,un],r=[];function u(o,a){return o[6].type==="selection"?0:o[6].type==="essay"?1:-1}return~(e=u(n))&&(t=r[e]=s[e](n)),{c(){t&&t.c(),l=Xe()},m(o,a){~e&&r[e].m(o,a),y(o,l,a),i=!0},p(o,a){let p=e;e=u(o),e===p?~e&&r[e].p(o,a):(t&&(ce(),S(r[p],1,1,()=>{r[p]=null}),ae()),~e?(t=r[e],t?t.p(o,a):(t=r[e]=s[e](o),t.c()),q(t,1),t.m(l.parentNode,l)):t=null)},i(o){i||(q(t),i=!0)},o(o){S(t),i=!1},d(o){~e&&r[e].d(o),o&&T(l)}}}function cn(n){let e,t,l,i,s,r,u,o,a;function p(k){n[11](k)}function c(k){n[12](k)}let _={};n[0].title!==void 0&&(_.title=n[0].title),n[0].description!==void 0&&(_.description=n[0].description),t=new Tt({props:_}),W.push(()=>de(t,"title",p)),W.push(()=>de(t,"description",c));let m=n[0].questions,b=[];for(let k=0;k<m.length;k+=1)b[k]=Ve(Ue(n,m,k));const g=k=>S(b[k],1,1,()=>{b[k]=null});return o=new kt({}),o.$on("onSelectQuestionType",n[4]),{c(){e=h("div"),I(t.$$.fragment),s=C();for(let k=0;k<b.length;k+=1)b[k].c();r=C(),u=h("div"),I(o.$$.fragment),f(u,"class","p-5"),f(e,"class","p-5 form-setup-panel"),f(e,"tabindex","0")},m(k,v){y(k,e,v),B(t,e,null),d(e,s);for(let A=0;A<b.length;A+=1)b[A].m(e,null);d(e,r),d(e,u),B(o,u,null),n[17](e),a=!0},p(k,v){const A={};if(!l&&v&1&&(l=!0,A.title=k[0].title,me(()=>l=!1)),!i&&v&1&&(i=!0,A.description=k[0].description,me(()=>i=!1)),t.$set(A),v&9){m=k[0].questions;let F;for(F=0;F<m.length;F+=1){const E=Ue(k,m,F);b[F]?(b[F].p(E,v),q(b[F],1)):(b[F]=Ve(E),b[F].c(),q(b[F],1),b[F].m(e,r))}for(ce(),F=m.length;F<b.length;F+=1)g(F);ae()}},i(k){if(!a){q(t.$$.fragment,k);for(let v=0;v<m.length;v+=1)q(b[v]);q(o.$$.fragment,k),a=!0}},o(k){S(t.$$.fragment,k),b=b.filter(Boolean);for(let v=0;v<b.length;v+=1)S(b[v]);S(o.$$.fragment,k),a=!1},d(k){k&&T(e),L(t),ye(b,k),L(o),n[17](null)}}}function Ge(n){let e,t,l=n[27]+1+"",i,s,r,u,o=n[0].questions[n[27]].text+"",a,p,c,_=(n[0].questions[n[27]].multiple?n[25].filter(We).join(", "):n[25])+"",m;return{c(){e=h("div"),t=h("div"),i=N(l),s=N("."),r=C(),u=h("div"),a=N(o),p=C(),c=h("div"),m=N(_),f(t,"class","mr-1"),f(u,"class","whitespace-pre"),f(e,"class","flex p-1 font-bold"),f(c,"class","p-1 ml-4 whitespace-pre")},m(b,g){y(b,e,g),d(e,t),d(t,i),d(t,s),d(e,r),d(e,u),d(u,a),y(b,p,g),y(b,c,g),d(c,m)},p(b,g){g&1&&o!==(o=b[0].questions[b[27]].text+"")&&le(a,o),g&5&&_!==(_=(b[0].questions[b[27]].multiple?b[25].filter(We).join(", "):b[25])+"")&&le(m,_)},d(b){b&&T(e),b&&T(p),b&&T(c)}}}function Ke(n){let e,t,l=n[22].name+"",i,s,r=n[22].phoneNumber+"",u,o,a,p,c=n[22].answers,_=[];for(let m=0;m<c.length;m+=1)_[m]=Ge(He(n,c,m));return{c(){e=h("details"),t=h("summary"),i=N(l),s=N(" ("),u=N(r),o=N(")"),a=C();for(let m=0;m<_.length;m+=1)_[m].c();p=C(),f(t,"class","py-1 text-lg"),f(e,"class","mb-3 ml-1")},m(m,b){y(m,e,b),d(e,t),d(t,i),d(t,s),d(t,u),d(t,o),d(e,a);for(let g=0;g<_.length;g+=1)_[g].m(e,null);d(e,p)},p(m,b){if(b&4&&l!==(l=m[22].name+"")&&le(i,l),b&4&&r!==(r=m[22].phoneNumber+"")&&le(u,r),b&5){c=m[22].answers;let g;for(g=0;g<c.length;g+=1){const k=He(m,c,g);_[g]?_[g].p(k,b):(_[g]=Ge(k),_[g].c(),_[g].m(e,p))}for(;g<_.length;g+=1)_[g].d(1);_.length=c.length}},d(m){m&&T(e),ye(_,m)}}}function an(n){let e,t,l,i=n[2].length+"",s,r,u,o,a,p,c=n[2],_=[];for(let m=0;m<c.length;m+=1)_[m]=Ke(ze(n,c,m));return{c(){e=h("div"),t=h("h2"),l=N("Answers from ("),s=N(i),r=N(" respondents)"),u=C(),o=h("hr"),a=C(),p=h("div");for(let m=0;m<_.length;m+=1)_[m].c();f(t,"class","text-xl"),f(o,"class","my-2"),f(p,"class","flex flex-col"),f(e,"class","p-5"),f(e,"tabindex","0")},m(m,b){y(m,e,b),d(e,t),d(t,l),d(t,s),d(t,r),d(e,u),d(e,o),d(e,a),d(e,p);for(let g=0;g<_.length;g+=1)_[g].m(p,null)},p(m,b){if(b&4&&i!==(i=m[2].length+"")&&le(s,i),b&5){c=m[2];let g;for(g=0;g<c.length;g+=1){const k=ze(m,c,g);_[g]?_[g].p(k,b):(_[g]=Ke(k),_[g].c(),_[g].m(p,null))}for(;g<_.length;g+=1)_[g].d(1);_.length=c.length}},d(m){m&&T(e),ye(_,m)}}}function pn(n){let e,t,l,i,s,r;return e=new Pt({props:{$$slots:{default:[rn]},$$scope:{ctx:n}}}),l=new De({props:{$$slots:{default:[cn]},$$scope:{ctx:n}}}),s=new De({props:{$$slots:{default:[an]},$$scope:{ctx:n}}}),{c(){I(e.$$.fragment),t=C(),I(l.$$.fragment),i=C(),I(s.$$.fragment)},m(u,o){B(e,u,o),y(u,t,o),B(l,u,o),y(u,i,o),B(s,u,o),r=!0},p(u,o){const a={};o&536870912&&(a.$$scope={dirty:o,ctx:u}),e.$set(a);const p={};o&536870915&&(p.$$scope={dirty:o,ctx:u}),l.$set(p);const c={};o&536870917&&(c.$$scope={dirty:o,ctx:u}),s.$set(c)},i(u){r||(q(e.$$.fragment,u),q(l.$$.fragment,u),q(s.$$.fragment,u),r=!0)},o(u){S(e.$$.fragment,u),S(l.$$.fragment,u),S(s.$$.fragment,u),r=!1},d(u){L(e,u),u&&T(t),L(l,u),u&&T(i),L(s,u)}}}function dn(n){let e,t,l,i,s,r;return e=new ln({props:{id:n[0].id}}),e.$on("delete-form-clicked",n[5]),s=new St({props:{$$slots:{default:[pn]},$$scope:{ctx:n}}}),{c(){I(e.$$.fragment),t=C(),l=h("div"),i=h("div"),I(s.$$.fragment),f(i,"class","w-full mx-5 my-10 bg-white shadow-md bg-transparent"),pe(i,"max-width","700px"),f(l,"class","flex flex-col items-center")},m(u,o){B(e,u,o),y(u,t,o),y(u,l,o),d(l,i),B(s,i,null),r=!0},p(u,[o]){const a={};o&1&&(a.id=u[0].id),e.$set(a);const p={};o&536870919&&(p.$$scope={dirty:o,ctx:u}),s.$set(p)},i(u){r||(q(e.$$.fragment,u),q(s.$$.fragment,u),r=!0)},o(u){S(e.$$.fragment,u),S(s.$$.fragment,u),r=!1},d(u){L(e,u),u&&T(t),u&&T(l),L(s)}}}const We=n=>!!n;function mn(n,e,t){let l,i;Ce(n,ft,$=>t(10,i=$));let{params:s}=e,{id:r}=e,u=!1;const o={text:"Question",required:!1},a=Oe(re({},o),{multiline:!1}),p=Oe(re({},o),{options:[],hasOtherOption:!1,multiple:!1});let c=re({},ht);s&&s.id&&(r=s.id,c.id=r);let _;function m($){t(0,c.questions=[...c.questions,$],c)}function b({detail:$}){const w=c.questions;w.splice($,1),t(0,c.questions=w,c)}function g({detail:$}){let w={type:$};switch($){case"selection":w=re(re({},w),p);break;case"essay":w=re(re({},w),a);break}m(w),k()}function k(){return _e(this,null,function*(){yield ve(),document.activeElement.blur(),_.querySelector(".setup--question-text").focus()})}function v(){ct(c.id),rt("/")}ot(()=>(at(c.id)?t(0,c=dt(r)):pt(c),document.body.classList.add("bg-color-2"),t(9,u=!0),()=>document.body.classList.remove("bg-color-2")));function A($){n.$$.not_equal(c.title,$)&&(c.title=$,t(0,c))}function F($){n.$$.not_equal(c.description,$)&&(c.description=$,t(0,c))}function E($,w){n.$$.not_equal(w.preview,$)&&(w.preview=$,t(0,c))}function ie($,w,z,se){z[se]=$,t(0,c)}function U($,w){n.$$.not_equal(w.preview,$)&&(w.preview=$,t(0,c))}function V($,w,z,se){z[se]=$,t(0,c)}function G($){W[$?"unshift":"push"](()=>{_=$,t(1,_)})}return n.$$set=$=>{"params"in $&&t(8,s=$.params),"id"in $&&t(7,r=$.id)},n.$$.update=()=>{n.$$.dirty&641&&u&&c&&!!r&&mt(r,c),n.$$.dirty&1152&&t(2,l=i.filter($=>$.id===r))},[c,_,l,b,g,v,o,r,s,u,i,A,F,E,ie,U,V,G]}class vn extends Z{constructor(e){super(),x(this,e,mn,dn,ee,{params:8,id:7})}}export{vn as default};
