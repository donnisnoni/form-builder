var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,o=(t,n,l)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[n]=l,c=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&o(e,n,t[n]);if(l)for(var n of l(t))i.call(t,n)&&o(e,n,t[n]);return e},r=(e,l)=>t(e,n(l)),u=(e,t,n)=>new Promise(((l,s)=>{var i=e=>{try{c(n.next(e))}catch(t){s(t)}},o=e=>{try{c(n.throw(e))}catch(t){s(t)}},c=e=>e.done?l(e.value):Promise.resolve(e.value).then(i,o);c((n=n.apply(e,t)).next())}));import{S as a,i as p,s as d,e as f,c as m,a as $,d as h,b as x,f as g,m as b,F as v,x as w,t as y,j as q,h as k,k as O,H as T,M as j,N as S,I as A,E as C,p as P,q as R,O as I,P as D,Q as N,T as Q,U as F,V as _,y as B,W as E,n as L,z,C as M,A as H,D as J,X as K,u as U,B as V,r as W,J as X,K as G}from"./vendor.b5b71693.js";import{I as Y,d as Z,e as ee,h as te,i as ne,r as le,j as se,k as ie,g as oe,u as ce}from"./store.eb533cad.js";import{S as re,T as ue,D as ae}from"./shared.16b607a8.js";function pe(e){let t,n,l,s,i,o,c,r,u,a,p,d,j,S,A,C;return l=new Y({props:{path:Z,width:"20px",height:"20px"}}),{c(){t=f("button"),n=f("div"),m(l.$$.fragment),s=$(),i=f("div"),o=f("div"),o.textContent="Add question",c=$(),r=f("div"),u=f("button"),u.textContent="Options",a=$(),p=f("button"),p.textContent="Text",d=$(),j=f("button"),j.textContent="Others",h(n,"class","p-2"),h(o,"class","p-1 inner-label svelte-149pbl9"),h(u,"aria-label","Add question with options type"),h(u,"class","p-1 text-black bg-white"),h(p,"aria-label","Add question with essay type"),h(p,"class","p-1 text-black bg-white"),h(j,"class","p-1 text-black bg-white"),h(r,"class","hidden-buttons svelte-149pbl9"),h(t,"aria-label","Add question"),h(t,"class","flex items-center px-2 py-1 btn btn--primary svelte-149pbl9"),h(t,"title","Add a new question")},m(f,m){x(f,t,m),g(t,n),b(l,n,null),g(t,s),g(t,i),g(i,o),g(i,c),g(i,r),g(r,u),g(r,a),g(r,p),g(r,d),g(r,j),S=!0,A||(C=[v(u,"click",e[1]),v(p,"click",e[2])],A=!0)},p:w,i(e){S||(y(l.$$.fragment,e),S=!0)},o(e){q(l.$$.fragment,e),S=!1},d(e){e&&k(t),O(l),A=!1,T(C)}}}function de(e){const t=j();function n(e){t("onSelectQuestionType",e)}return[n,()=>n("selection"),()=>n("essay")]}class fe extends a{constructor(e){super(),p(this,e,de,pe,d,{})}}function me(e){let t,n,l,s,i,o;return{c(){t=f("div"),n=f("input"),l=$(),s=f("textarea"),h(n,"class","p-2 mb-2 text-xl"),h(n,"placeholder","Form title"),h(n,"type","text"),h(s,"class","p-2"),h(s,"placeholder","Form description"),h(s,"type","text"),h(s,"rows","3"),h(t,"class","flex flex-col w-full p-5 bg-gray-100 form-meta-inputs")},m(c,r){x(c,t,r),g(t,n),e[5](n),C(n,e[0]),g(t,l),g(t,s),C(s,e[1]),i||(o=[v(n,"input",e[6]),v(s,"input",e[7])],i=!0)},p(e,t){1&t&&n.value!==e[0]&&C(n,e[0]),2&t&&C(s,e[1])},d(n){n&&k(t),e[5](null),i=!1,T(o)}}}function $e(e){let t,n,l,s,i,o;return{c(){t=f("div"),n=f("h2"),l=P(e[0]),s=$(),i=f("p"),o=P(e[1]),h(n,"class","text-2xl"),h(i,"class","mt-2"),h(t,"class","p-5 form-meta-preview")},m(e,c){x(e,t,c),g(t,n),g(n,l),g(t,s),g(t,i),g(i,o)},p(e,t){1&t&&R(l,e[0]),2&t&&R(o,e[1])},d(e){e&&k(t)}}}function he(e){let t,n,l;function s(e,t){return e[2]?$e:me}let i=s(e),o=i(e);return{c(){t=f("div"),o.c(),h(t,"class","form-meta svelte-1ovbaqa"),h(t,"tabindex","0"),S(t,"preview",e[2])},m(s,i){x(s,t,i),o.m(t,null),e[8](t),n||(l=[v(t,"click",e[9]),v(t,"focusout",e[10])],n=!0)},p(e,[n]){i===(i=s(e))&&o?o.p(e,n):(o.d(1),o=i(e),o&&(o.c(),o.m(t,null))),4&n&&S(t,"preview",e[2])},i:w,o:w,d(s){s&&k(t),o.d(),e[8](null),n=!1,T(l)}}}function xe(e,t,n){let l,s,{title:i=""}=t,{description:o=""}=t,c=!0;return e.$$set=e=>{"title"in e&&n(0,i=e.title),"description"in e&&n(1,o=e.description)},e.$$.update=()=>{12&e.$$.dirty&&(c||s&&s.focus())},[i,o,c,s,l,function(e){A[e?"unshift":"push"]((()=>{s=e,n(3,s)}))},function(){i=this.value,n(0,i)},function(){o=this.value,n(1,o)},function(e){A[e?"unshift":"push"]((()=>{l=e,n(4,l)}))},()=>n(2,c=c&&!1),e=>n(2,c=!l.contains(e.relatedTarget))]}class ge extends a{constructor(e){super(),p(this,e,xe,he,d,{title:0,description:1})}}function be(e){let t,n;const l=e[1].default,s=I(l,e,e[0],null);return{c(){t=f("div"),s&&s.c(),h(t,"class","tabs")},m(e,l){x(e,t,l),s&&s.m(t,null),n=!0},p(e,[t]){s&&s.p&&(!n||1&t)&&D(s,l,e,e[0],n?Q(l,e[0],t,null):N(e[0]),null)},i(e){n||(y(s,e),n=!0)},o(e){q(s,e),n=!1},d(e){e&&k(t),s&&s.d(e)}}}const ve={};function we(e,t,n){let{$$slots:l={},$$scope:s}=t;const i=[],o=[],c=B(null),r=B(null);return F(ve,{registerTab:e=>{i.push(e),c.update((t=>t||e)),_((()=>{const t=i.indexOf(e);i.splice(t,1),c.update((n=>n===e?i[t]||i[i.length-1]:n))}))},registerPanel:e=>{o.push(e),r.update((t=>t||e)),_((()=>{const t=o.indexOf(e);o.splice(t,1),r.update((n=>n===e?o[t]||o[o.length-1]:n))}))},selectTab:e=>{const t=i.indexOf(e);c.set(e),r.set(o[t])},selectedTab:c,selectedPanel:r}),e.$$set=e=>{"$$scope"in e&&n(0,s=e.$$scope)},[s,l]}class ye extends a{constructor(e){super(),p(this,e,we,be,d,{})}}function qe(e){let t,n,l,s;const i=e[5].default,o=I(i,e,e[4],null);return{c(){t=f("button"),o&&o.c(),h(t,"class","svelte-j6ttur"),S(t,"selected",e[0]===e[1])},m(i,c){x(i,t,c),o&&o.m(t,null),n=!0,l||(s=v(t,"click",e[6]),l=!0)},p(e,[l]){o&&o.p&&(!n||16&l)&&D(o,i,e,e[4],n?Q(i,e[4],l,null):N(e[4]),null),3&l&&S(t,"selected",e[0]===e[1])},i(e){n||(y(o,e),n=!0)},o(e){q(o,e),n=!1},d(e){e&&k(t),o&&o.d(e),l=!1,s()}}}function ke(e,t,n){let l,{$$slots:s={},$$scope:i}=t;const o={},{registerTab:c,selectTab:r,selectedTab:u}=E(ve);L(e,u,(e=>n(0,l=e))),c(o);return e.$$set=e=>{"$$scope"in e&&n(4,i=e.$$scope)},[l,o,r,u,i,s,()=>r(o)]}class Oe extends a{constructor(e){super(),p(this,e,ke,qe,d,{})}}function Te(e){let t,n;const l=e[1].default,s=I(l,e,e[0],null);return{c(){t=f("div"),s&&s.c(),h(t,"class","tab-list svelte-9k7zbt")},m(e,l){x(e,t,l),s&&s.m(t,null),n=!0},p(e,[t]){s&&s.p&&(!n||1&t)&&D(s,l,e,e[0],n?Q(l,e[0],t,null):N(e[0]),null)},i(e){n||(y(s,e),n=!0)},o(e){q(s,e),n=!1},d(e){e&&k(t),s&&s.d(e)}}}function je(e,t,n){let{$$slots:l={},$$scope:s}=t;return e.$$set=e=>{"$$scope"in e&&n(0,s=e.$$scope)},[s,l]}class Se extends a{constructor(e){super(),p(this,e,je,Te,d,{})}}function Ae(e){let t;const n=e[4].default,l=I(n,e,e[3],null);return{c(){l&&l.c()},m(e,n){l&&l.m(e,n),t=!0},p(e,s){l&&l.p&&(!t||8&s)&&D(l,n,e,e[3],t?Q(n,e[3],s,null):N(e[3]),null)},i(e){t||(y(l,e),t=!0)},o(e){q(l,e),t=!1},d(e){l&&l.d(e)}}}function Ce(e){let t,n,l=e[0]===e[1]&&Ae(e);return{c(){l&&l.c(),t=z()},m(e,s){l&&l.m(e,s),x(e,t,s),n=!0},p(e,[n]){e[0]===e[1]?l?(l.p(e,n),1&n&&y(l,1)):(l=Ae(e),l.c(),y(l,1),l.m(t.parentNode,t)):l&&(M(),q(l,1,1,(()=>{l=null})),H())},i(e){n||(y(l),n=!0)},o(e){q(l),n=!1},d(e){l&&l.d(e),e&&k(t)}}}function Pe(e,t,n){let l,{$$slots:s={},$$scope:i}=t;const o={},{registerPanel:c,selectedPanel:r}=E(ve);return L(e,r,(e=>n(0,l=e))),c(o),e.$$set=e=>{"$$scope"in e&&n(3,i=e.$$scope)},[l,o,r,i,s]}class Re extends a{constructor(e){super(),p(this,e,Pe,Ce,d,{})}}function Ie(e){let t;return{c(){t=f("input"),h(t,"class","inline-block mr-2"),h(t,"type","radio"),t.disabled=!0},m(e,n){x(e,t,n)},d(e){e&&k(t)}}}function De(e){let t;return{c(){t=f("input"),h(t,"class","inline-block mr-2"),h(t,"type","checkbox"),t.disabled=!0},m(e,n){x(e,t,n)},d(e){e&&k(t)}}}function Ne(e){let t,n,l,s,i,o,c,r,u;function a(e,t){return e[0]?De:Ie}let p=a(e),d=p(e);return o=new Y({props:{path:ee,width:"25px",height:"25px"}}),{c(){t=f("div"),d.c(),n=$(),l=f("input"),s=$(),i=f("button"),m(o.$$.fragment),h(l,"class","flex-1 inline-block p-2 border border-gray-400"),l.disabled=!0,h(l,"placeholder","Others"),J(l,"max-width","300px"),h(l,"type","text"),h(i,"aria-label","Remove option"),h(i,"class","ml-2 delete-question-button"),h(i,"title","Remove option"),h(t,"class","flex items-center mb-2 setup--question-item other-option-item")},m(a,p){x(a,t,p),d.m(t,null),g(t,n),g(t,l),g(t,s),g(t,i),b(o,i,null),c=!0,r||(u=v(i,"click",e[2]),r=!0)},p(e,[l]){p!==(p=a(e))&&(d.d(1),d=p(e),d&&(d.c(),d.m(t,n)))},i(e){c||(y(o.$$.fragment,e),c=!0)},o(e){q(o.$$.fragment,e),c=!1},d(e){e&&k(t),d.d(),O(o),r=!1,u()}}}function Qe(e,t,n){let{multiple:l=!1}=t;const s=j();return e.$$set=e=>{"multiple"in e&&n(0,l=e.multiple)},[l,s,()=>s("delete")]}class Fe extends a{constructor(e){super(),p(this,e,Qe,Ne,d,{multiple:0})}}function _e(e,t,n){const l=e.slice();return l[23]=t[n],l[24]=t,l[2]=n,l}function Be(e){let t,n,l,s,i,o,c,r,u,a,p,d,w,j,S,A,I,D,N,Q,F,_,B,E,L,z,K,V,W,X,G,te,ne,le,se=e[2]+1+"";s=new Y({props:{path:ee,width:"25px",height:"25px"}});let ie=e[0].options,oe=[];for(let f=0;f<ie.length;f+=1)oe[f]=Me(_e(e,ie,f));const ce=e=>q(oe[e],1,1,(()=>{oe[e]=null}));let re=e[0].hasOtherOption&&He(e);N=new Y({props:{path:Z,width:"25px",height:"25px"}});let ue=!e[0].hasOtherOption&&Je(e);return{c(){t=f("div"),n=f("div"),l=f("button"),m(s.$$.fragment),i=$(),o=f("div"),c=f("div"),r=P(se),u=P("."),a=$(),p=f("div"),d=f("textarea"),w=$(),j=f("div");for(let e=0;e<oe.length;e+=1)oe[e].c();S=$(),re&&re.c(),A=$(),I=f("div"),D=f("button"),m(N.$$.fragment),Q=P("\n        Add new option"),F=$(),ue&&ue.c(),_=$(),B=f("label"),E=f("input"),L=$(),z=f("div"),z.textContent="Multiple",K=$(),V=f("label"),W=f("input"),X=$(),G=f("div"),G.textContent="Required",h(l,"aria-label","Remove question"),h(l,"class","flex items-center px-3 py-2"),h(l,"title","Remove question"),h(n,"class","ml-auto"),h(t,"class","flex p-1 border-b"),h(c,"class","mr-2"),h(d,"class","p-2 setup--question-text"),h(d,"placeholder","Input a question"),h(d,"type","text"),h(d,"rows","3"),h(j,"class","flex flex-col justify-center mt-5"),h(p,"class","flex flex-col flex-1"),J(p,"height","100%"),h(o,"class","flex w-full p-5 question-selection-type-inputs"),J(o,"height","100%"),h(D,"class","flex items-center px-3 py-2"),h(E,"type","checkbox"),h(z,"class","ml-2"),h(B,"class","flex items-center px-3 py-2"),h(B,"tabindex","0"),h(W,"type","checkbox"),h(G,"class","ml-2"),h(V,"class","flex items-center px-3 py-2"),h(V,"tabindex","0"),h(I,"class","flex flex-col p-1 border-t md:flex-row")},m(f,m){x(f,t,m),g(t,n),g(n,l),b(s,l,null),x(f,i,m),x(f,o,m),g(o,c),g(c,r),g(c,u),g(o,a),g(o,p),g(p,d),e[11](d),C(d,e[0].text),g(p,w),g(p,j);for(let e=0;e<oe.length;e+=1)oe[e].m(j,null);g(j,S),re&&re.m(j,null),e[16](j),x(f,A,m),x(f,I,m),g(I,D),b(N,D,null),g(D,Q),g(I,F),ue&&ue.m(I,null),g(I,_),g(I,B),g(B,E),E.checked=e[0].multiple,g(B,L),g(B,z),g(I,K),g(I,V),g(V,W),W.checked=e[0].required,g(V,X),g(V,G),te=!0,ne||(le=[v(l,"click",e[10]),v(d,"input",e[12]),v(D,"click",e[7]),v(E,"change",e[18]),v(W,"change",e[19])],ne=!0)},p(e,t){if((!te||4&t)&&se!==(se=e[2]+1+"")&&R(r,se),1&t&&C(d,e[0].text),257&t){let n;for(ie=e[0].options,n=0;n<ie.length;n+=1){const l=_e(e,ie,n);oe[n]?(oe[n].p(l,t),y(oe[n],1)):(oe[n]=Me(l),oe[n].c(),y(oe[n],1),oe[n].m(j,S))}for(M(),n=ie.length;n<oe.length;n+=1)ce(n);H()}e[0].hasOtherOption?re?(re.p(e,t),1&t&&y(re,1)):(re=He(e),re.c(),y(re,1),re.m(j,null)):re&&(M(),q(re,1,1,(()=>{re=null})),H()),e[0].hasOtherOption?ue&&(ue.d(1),ue=null):ue?ue.p(e,t):(ue=Je(e),ue.c(),ue.m(I,_)),1&t&&(E.checked=e[0].multiple),1&t&&(W.checked=e[0].required)},i(e){if(!te){y(s.$$.fragment,e);for(let e=0;e<ie.length;e+=1)y(oe[e]);y(re),y(N.$$.fragment,e),te=!0}},o(e){q(s.$$.fragment,e),oe=oe.filter(Boolean);for(let t=0;t<oe.length;t+=1)q(oe[t]);q(re),q(N.$$.fragment,e),te=!1},d(n){n&&k(t),O(s),n&&k(i),n&&k(o),e[11](null),U(oe,n),re&&re.d(),e[16](null),n&&k(A),n&&k(I),O(N),ue&&ue.d(),ne=!1,T(le)}}}function Ee(e){let t,n;return t=new re({props:{number:e[2]+1,question:e[0]}}),{c(){m(t.$$.fragment)},m(e,l){b(t,e,l),n=!0},p(e,n){const l={};4&n&&(l.number=e[2]+1),1&n&&(l.question=e[0]),t.$set(l)},i(e){n||(y(t.$$.fragment,e),n=!0)},o(e){q(t.$$.fragment,e),n=!1},d(e){O(t,e)}}}function Le(e){let t;return{c(){t=f("input"),h(t,"class","inline-block mr-2"),h(t,"type","radio"),t.disabled=!0},m(e,n){x(e,t,n)},d(e){e&&k(t)}}}function ze(e){let t;return{c(){t=f("input"),h(t,"class","inline-block mr-2"),h(t,"type","checkbox"),t.disabled=!0},m(e,n){x(e,t,n)},d(e){e&&k(t)}}}function Me(e){let t,n,l,s,i,o,c,r,u;function a(e,t){return e[0].multiple?ze:Le}let p=a(e),d=p(e);function w(){e[13].call(l,e[24],e[2])}function j(){return e[14](e[2])}return o=new Y({props:{path:ee,width:"25px",height:"25px"}}),{c(){t=f("div"),d.c(),n=$(),l=f("input"),s=$(),i=f("button"),m(o.$$.fragment),h(l,"class","flex-1 inline-block p-2"),J(l,"max-width","300px"),h(l,"type","text"),h(i,"aria-label","Remove option"),h(i,"class","ml-2 delete-question-button"),h(i,"title","Remove option"),h(t,"class","flex items-center mb-2 setup--question-item")},m(a,p){x(a,t,p),d.m(t,null),g(t,n),g(t,l),C(l,e[23]),g(t,s),g(t,i),b(o,i,null),c=!0,r||(u=[v(l,"input",w),v(i,"click",j)],r=!0)},p(s,i){p!==(p=a(e=s))&&(d.d(1),d=p(e),d&&(d.c(),d.m(t,n))),1&i&&l.value!==e[23]&&C(l,e[23])},i(e){c||(y(o.$$.fragment,e),c=!0)},o(e){q(o.$$.fragment,e),c=!1},d(e){e&&k(t),d.d(),O(o),r=!1,T(u)}}}function He(e){let t,n;return t=new Fe({props:{multiple:e[0].multiple}}),t.$on("delete",e[15]),{c(){m(t.$$.fragment)},m(e,l){b(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.multiple=e[0].multiple),t.$set(l)},i(e){n||(y(t.$$.fragment,e),n=!0)},o(e){q(t.$$.fragment,e),n=!1},d(e){O(t,e)}}}function Je(e){let t,n,l;return{c(){t=f("button"),t.textContent='Add "other" option',h(t,"class","flex items-center px-3 py-2")},m(s,i){x(s,t,i),n||(l=v(t,"click",e[17]),n=!0)},p:w,d(e){e&&k(t),n=!1,l()}}}function Ke(e){let t,n,l,s,i,o;const c=[Ee,Be],r=[];function u(e,t){return e[1]?0:1}return n=u(e),l=r[n]=c[n](e),{c(){t=f("div"),l.c(),h(t,"class","flex flex-col mt-2 question-selection-type"),h(t,"tabindex","0"),S(t,"preview",e[1]),S(t,"bg-gray-100",!e[1])},m(l,c){x(l,t,c),r[n].m(t,null),e[20](t),s=!0,i||(o=[v(t,"click",e[9]),v(t,"focusout",e[21])],i=!0)},p(e,[s]){let i=n;n=u(e),n===i?r[n].p(e,s):(M(),q(r[i],1,1,(()=>{r[i]=null})),H(),l=r[n],l?l.p(e,s):(l=r[n]=c[n](e),l.c()),y(l,1),l.m(t,null)),2&s&&S(t,"preview",e[1]),2&s&&S(t,"bg-gray-100",!e[1])},i(e){s||(y(l),s=!0)},o(e){q(l),s=!1},d(l){l&&k(t),r[n].d(),e[20](null),i=!1,T(o)}}}function Ue(e,t,n){const l=j();let s,i,o,{question:c}=t,{index:r=0}=t,{preview:a=!1}=t;function p(e){const t=[...c.options];t.splice(e,1),n(0,c.options=[...t],c)}c.options.length||(c.options=["Option 1","Option 2"]);return e.$$set=e=>{"question"in e&&n(0,c=e.question),"index"in e&&n(2,r=e.index),"preview"in e&&n(1,a=e.preview)},[c,a,r,s,i,o,l,function(){n(0,c.options=[...c.options,"Option "+(c.options.length+1)],c),function(){u(this,null,(function*(){yield K();const e=i.querySelectorAll(".setup--question-item:not(.other-option-item) input");e.length&&e[e.length-1].focus()}))}()},p,function(){return u(this,null,(function*(){const e=a;n(1,a=e&&!1),e&&(yield K(),o.focus())}))},()=>l("delete",r),function(e){A[e?"unshift":"push"]((()=>{o=e,n(5,o)}))},function(){c.text=this.value,n(0,c)},function(e,t){e[t]=this.value,n(0,c)},e=>p(e),()=>n(0,c.hasOtherOption=!1,c),function(e){A[e?"unshift":"push"]((()=>{i=e,n(4,i)}))},()=>n(0,c.hasOtherOption=!0,c),function(){c.multiple=this.checked,n(0,c)},function(){c.required=this.checked,n(0,c)},function(e){A[e?"unshift":"push"]((()=>{s=e,n(3,s)}))},e=>n(1,a=!s.contains(e.relatedTarget))]}class Ve extends a{constructor(e){super(),p(this,e,Ue,Ke,d,{question:0,index:2,preview:1})}}function We(e){let t,n,l,s,i,o,c,r,u,a,p,d,w,j,S,A,I,D,N,Q,F,_,B,E,L,z,M,H=e[2]+1+"";function K(e,t){return e[0].multiline?Ye:Ge}s=new Y({props:{path:ee,width:"25px",height:"25px"}});let U=K(e),V=U(e);return{c(){t=f("div"),n=f("div"),l=f("button"),m(s.$$.fragment),i=$(),o=f("div"),c=f("div"),r=P(H),u=P("."),a=$(),p=f("div"),d=f("textarea"),w=$(),V.c(),j=$(),S=f("div"),A=f("label"),I=f("input"),D=$(),N=f("div"),N.textContent="Long answer",Q=$(),F=f("label"),_=f("input"),B=$(),E=f("div"),E.textContent="Required",h(l,"aria-label","Remove question"),h(l,"class","flex items-center px-3 py-2"),h(l,"title","Remove question"),h(n,"class","ml-auto"),h(t,"class","flex p-1 border-b"),h(c,"class","mr-2"),h(d,"class","p-2 setup--question-text"),h(d,"placeholder","Input a question"),h(d,"type","text"),h(d,"rows","3"),h(p,"class","flex flex-col flex-1"),J(p,"height","100%"),h(o,"class","flex w-full p-5 question-selection-type-inputs"),J(o,"height","100%"),h(I,"type","checkbox"),h(N,"class","ml-2"),h(A,"class","flex items-center px-3 py-2"),h(A,"tabindex","0"),h(_,"type","checkbox"),h(E,"class","ml-2"),h(F,"class","flex items-center px-3 py-2"),h(F,"tabindex","0"),h(S,"class","flex flex-col p-1 border-t md:flex-row")},m(f,m){x(f,t,m),g(t,n),g(n,l),b(s,l,null),x(f,i,m),x(f,o,m),g(o,c),g(c,r),g(c,u),g(o,a),g(o,p),g(p,d),e[8](d),C(d,e[0].text),g(p,w),V.m(p,null),x(f,j,m),x(f,S,m),g(S,A),g(A,I),I.checked=e[0].multiline,g(A,D),g(A,N),g(S,Q),g(S,F),g(F,_),_.checked=e[0].required,g(F,B),g(F,E),L=!0,z||(M=[v(l,"click",e[7]),v(d,"input",e[9]),v(I,"change",e[10]),v(_,"change",e[11])],z=!0)},p(e,t){(!L||4&t)&&H!==(H=e[2]+1+"")&&R(r,H),1&t&&C(d,e[0].text),U!==(U=K(e))&&(V.d(1),V=U(e),V&&(V.c(),V.m(p,null))),1&t&&(I.checked=e[0].multiline),1&t&&(_.checked=e[0].required)},i(e){L||(y(s.$$.fragment,e),L=!0)},o(e){q(s.$$.fragment,e),L=!1},d(n){n&&k(t),O(s),n&&k(i),n&&k(o),e[8](null),V.d(),n&&k(j),n&&k(S),z=!1,T(M)}}}function Xe(e){let t,n;return t=new ue({props:{number:e[2]+1,question:e[0]}}),{c(){m(t.$$.fragment)},m(e,l){b(t,e,l),n=!0},p(e,n){const l={};4&n&&(l.number=e[2]+1),1&n&&(l.question=e[0]),t.$set(l)},i(e){n||(y(t.$$.fragment,e),n=!0)},o(e){q(t.$$.fragment,e),n=!1},d(e){O(t,e)}}}function Ge(e){let t;return{c(){t=f("input"),t.disabled=!0,h(t,"class","p-2 mt-2 border border-gray-400"),h(t,"placeholder","Input your answer"),h(t,"type","text")},m(e,n){x(e,t,n)},d(e){e&&k(t)}}}function Ye(e){let t;return{c(){t=f("textarea"),h(t,"class","p-2 mt-2 border border-gray-400"),t.disabled=!0,h(t,"placeholder","Input your answer"),h(t,"rows","3")},m(e,n){x(e,t,n)},d(e){e&&k(t)}}}function Ze(e){let t,n,l,s,i,o;const c=[Xe,We],r=[];function u(e,t){return e[1]?0:1}return n=u(e),l=r[n]=c[n](e),{c(){t=f("div"),l.c(),h(t,"class","flex flex-col mt-2 question-selection-type"),h(t,"tabindex","0"),S(t,"preview",e[1]),S(t,"bg-gray-100",!e[1])},m(l,c){x(l,t,c),r[n].m(t,null),e[12](t),s=!0,i||(o=[v(t,"click",e[6]),v(t,"focusout",e[13])],i=!0)},p(e,[s]){let i=n;n=u(e),n===i?r[n].p(e,s):(M(),q(r[i],1,1,(()=>{r[i]=null})),H(),l=r[n],l?l.p(e,s):(l=r[n]=c[n](e),l.c()),y(l,1),l.m(t,null)),2&s&&S(t,"preview",e[1]),2&s&&S(t,"bg-gray-100",!e[1])},i(e){s||(y(l),s=!0)},o(e){q(l),s=!1},d(l){l&&k(t),r[n].d(),e[12](null),i=!1,T(o)}}}function et(e,t,n){const l=j();let s,i,{question:o}=t,{index:c=0}=t,{preview:r=!1}=t;return e.$$set=e=>{"question"in e&&n(0,o=e.question),"index"in e&&n(2,c=e.index),"preview"in e&&n(1,r=e.preview)},[o,r,c,s,i,l,function(){return u(this,null,(function*(){const e=r;n(1,r=e&&!1),e&&(yield K(),i.focus())}))},()=>l("delete",c),function(e){A[e?"unshift":"push"]((()=>{i=e,n(4,i)}))},function(){o.text=this.value,n(0,o)},function(){o.multiline=this.checked,n(0,o)},function(){o.required=this.checked,n(0,o)},function(e){A[e?"unshift":"push"]((()=>{s=e,n(3,s)}))},e=>n(1,r=!s.contains(e.relatedTarget))]}class tt extends a{constructor(e){super(),p(this,e,et,Ze,d,{question:0,index:2,preview:1})}}function nt(e){let t,n,l,s,i,o,c,r,u,a,p,d,w,j,S,A=e[0]?"Sending...":"Send";return s=new Y({props:{path:ee}}),u=new Y({props:{path:te}}),{c(){t=f("div"),n=f("div"),l=f("button"),m(s.$$.fragment),i=$(),o=f("input"),c=$(),r=f("button"),m(u.$$.fragment),a=$(),p=f("button"),d=P(A),h(l,"aria-label","Delete form"),h(l,"class","flex items-center p-1 mx-2"),h(l,"title","Delete this form"),h(o,"aria-label","Form link"),h(o,"class","hidden px-4 py-2 border sm:inline-block"),h(o,"type","text"),o.value=e[1],h(o,"title",e[1]),h(r,"aria-label","Copy form link"),h(r,"class","p-1 mx-2"),h(r,"title","Copy form link"),h(p,"aria-label","Send the form"),h(p,"class","px-4 py-2 ml-auto font-bold btn btn--primary"),h(p,"title","Send form"),h(n,"class","flex margin-page"),h(t,"class","p-2 bg-white form-actions")},m(f,m){x(f,t,m),g(t,n),g(n,l),b(s,l,null),g(n,i),g(n,o),g(n,c),g(n,r),b(u,r,null),g(n,a),g(n,p),g(p,d),w=!0,j||(S=[v(l,"click",e[6]),v(o,"click",e[3]),v(r,"click",e[3]),v(p,"click",e[4])],j=!0)},p(e,[t]){(!w||2&t&&o.value!==e[1])&&(o.value=e[1]),(!w||2&t)&&h(o,"title",e[1]),(!w||1&t)&&A!==(A=e[0]?"Sending...":"Send")&&R(d,A)},i(e){w||(y(s.$$.fragment,e),y(u.$$.fragment,e),w=!0)},o(e){q(s.$$.fragment,e),q(u.$$.fragment,e),w=!1},d(e){e&&k(t),O(s),O(u),j=!1,T(S)}}}function lt(e,t,n){let l;const s=j();let{id:i=""}=t,o=!1;return e.$$set=e=>{"id"in e&&n(5,i=e.id)},e.$$.update=()=>{32&e.$$.dirty&&n(1,l="https://donnisnoni.github.io/simple-form-builder//#/form/"+i)},[o,l,s,function(){navigator.clipboard.writeText(l)},function(){n(0,o=!0),setTimeout((()=>{n(0,o=!1)}),2e3)},i,()=>confirm("Are you sure want to delete this form?")&&s("delete-form-clicked")]}class st extends a{constructor(e){super(),p(this,e,lt,nt,d,{id:5})}}function it(e,t,n){const l=e.slice();return l[22]=t[n],l}function ot(e,t,n){const l=e.slice();return l[25]=t[n],l[27]=n,l}function ct(e,t,n){const l=e.slice();return l[6]=t[n],l[28]=t,l[27]=n,l}function rt(e){let t;return{c(){t=P("Questions")},m(e,n){x(e,t,n)},d(e){e&&k(t)}}}function ut(e){let t;return{c(){t=P("Answers")},m(e,n){x(e,t,n)},d(e){e&&k(t)}}}function at(e){let t,n,l,s;return t=new Oe({props:{$$slots:{default:[rt]},$$scope:{ctx:e}}}),l=new Oe({props:{$$slots:{default:[ut]},$$scope:{ctx:e}}}),{c(){m(t.$$.fragment),n=$(),m(l.$$.fragment)},m(e,i){b(t,e,i),x(e,n,i),b(l,e,i),s=!0},p(e,n){const s={};536870912&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s);const i={};536870912&n&&(i.$$scope={dirty:n,ctx:e}),l.$set(i)},i(e){s||(y(t.$$.fragment,e),y(l.$$.fragment,e),s=!0)},o(e){q(t.$$.fragment,e),q(l.$$.fragment,e),s=!1},d(e){O(t,e),e&&k(n),O(l,e)}}}function pt(e){let t,n,l,s;function i(t){e[15](t,e[6])}function o(t){e[16](t,e[6],e[28],e[27])}let c={index:e[27]};return void 0!==e[6].preview&&(c.preview=e[6].preview),void 0!==e[6]&&(c.question=e[6]),t=new tt({props:c}),A.push((()=>X(t,"preview",i))),A.push((()=>X(t,"question",o))),t.$on("delete",e[3]),{c(){m(t.$$.fragment)},m(e,n){b(t,e,n),s=!0},p(s,i){e=s;const o={};!n&&1&i&&(n=!0,o.preview=e[6].preview,G((()=>n=!1))),!l&&1&i&&(l=!0,o.question=e[6],G((()=>l=!1))),t.$set(o)},i(e){s||(y(t.$$.fragment,e),s=!0)},o(e){q(t.$$.fragment,e),s=!1},d(e){O(t,e)}}}function dt(e){let t,n,l,s;function i(t){e[13](t,e[6])}function o(t){e[14](t,e[6],e[28],e[27])}let c={index:e[27]};return void 0!==e[6].preview&&(c.preview=e[6].preview),void 0!==e[6]&&(c.question=e[6]),t=new Ve({props:c}),A.push((()=>X(t,"preview",i))),A.push((()=>X(t,"question",o))),t.$on("delete",e[3]),{c(){m(t.$$.fragment)},m(e,n){b(t,e,n),s=!0},p(s,i){e=s;const o={};!n&&1&i&&(n=!0,o.preview=e[6].preview,G((()=>n=!1))),!l&&1&i&&(l=!0,o.question=e[6],G((()=>l=!1))),t.$set(o)},i(e){s||(y(t.$$.fragment,e),s=!0)},o(e){q(t.$$.fragment,e),s=!1},d(e){O(t,e)}}}function ft(e){let t,n,l,s;const i=[dt,pt],o=[];function c(e,t){return"selection"===e[6].type?0:"essay"===e[6].type?1:-1}return~(t=c(e))&&(n=o[t]=i[t](e)),{c(){n&&n.c(),l=z()},m(e,n){~t&&o[t].m(e,n),x(e,l,n),s=!0},p(e,s){let r=t;t=c(e),t===r?~t&&o[t].p(e,s):(n&&(M(),q(o[r],1,1,(()=>{o[r]=null})),H()),~t?(n=o[t],n?n.p(e,s):(n=o[t]=i[t](e),n.c()),y(n,1),n.m(l.parentNode,l)):n=null)},i(e){s||(y(n),s=!0)},o(e){q(n),s=!1},d(e){~t&&o[t].d(e),e&&k(l)}}}function mt(e){let t,n,l,s,i,o,c,r,u;function a(t){e[11](t)}function p(t){e[12](t)}let d={};void 0!==e[0].title&&(d.title=e[0].title),void 0!==e[0].description&&(d.description=e[0].description),n=new ge({props:d}),A.push((()=>X(n,"title",a))),A.push((()=>X(n,"description",p)));let v=e[0].questions,w=[];for(let f=0;f<v.length;f+=1)w[f]=ft(ct(e,v,f));const T=e=>q(w[e],1,1,(()=>{w[e]=null}));return r=new fe({}),r.$on("onSelectQuestionType",e[4]),{c(){t=f("div"),m(n.$$.fragment),i=$();for(let e=0;e<w.length;e+=1)w[e].c();o=$(),c=f("div"),m(r.$$.fragment),h(c,"class","p-5"),h(t,"class","p-5 form-setup-panel"),h(t,"tabindex","0")},m(l,s){x(l,t,s),b(n,t,null),g(t,i);for(let e=0;e<w.length;e+=1)w[e].m(t,null);g(t,o),g(t,c),b(r,c,null),e[17](t),u=!0},p(e,i){const c={};if(!l&&1&i&&(l=!0,c.title=e[0].title,G((()=>l=!1))),!s&&1&i&&(s=!0,c.description=e[0].description,G((()=>s=!1))),n.$set(c),9&i){let n;for(v=e[0].questions,n=0;n<v.length;n+=1){const l=ct(e,v,n);w[n]?(w[n].p(l,i),y(w[n],1)):(w[n]=ft(l),w[n].c(),y(w[n],1),w[n].m(t,o))}for(M(),n=v.length;n<w.length;n+=1)T(n);H()}},i(e){if(!u){y(n.$$.fragment,e);for(let e=0;e<v.length;e+=1)y(w[e]);y(r.$$.fragment,e),u=!0}},o(e){q(n.$$.fragment,e),w=w.filter(Boolean);for(let t=0;t<w.length;t+=1)q(w[t]);q(r.$$.fragment,e),u=!1},d(l){l&&k(t),O(n),U(w,l),O(r),e[17](null)}}}function $t(e){let t,n,l,s,i,o,c,r,u,a,p=e[27]+1+"",d=e[0].questions[e[27]].text+"",m=(e[0].questions[e[27]].multiple?e[25].filter(vt).join(", "):e[25])+"";return{c(){t=f("div"),n=f("div"),l=P(p),s=P("."),i=$(),o=f("div"),c=P(d),r=$(),u=f("div"),a=P(m),h(n,"class","mr-1"),h(o,"class","whitespace-pre"),h(t,"class","flex p-1 font-bold"),h(u,"class","p-1 ml-4 whitespace-pre")},m(e,p){x(e,t,p),g(t,n),g(n,l),g(n,s),g(t,i),g(t,o),g(o,c),x(e,r,p),x(e,u,p),g(u,a)},p(e,t){1&t&&d!==(d=e[0].questions[e[27]].text+"")&&R(c,d),5&t&&m!==(m=(e[0].questions[e[27]].multiple?e[25].filter(vt).join(", "):e[25])+"")&&R(a,m)},d(e){e&&k(t),e&&k(r),e&&k(u)}}}function ht(e){let t,n,l,s,i,o,c,r,u=e[22].name+"",a=e[22].phoneNumber+"",p=e[22].answers,d=[];for(let f=0;f<p.length;f+=1)d[f]=$t(ot(e,p,f));return{c(){t=f("details"),n=f("summary"),l=P(u),s=P(" ("),i=P(a),o=P(")"),c=$();for(let e=0;e<d.length;e+=1)d[e].c();r=$(),h(n,"class","py-1 text-lg"),h(t,"class","mb-3 ml-1")},m(e,u){x(e,t,u),g(t,n),g(n,l),g(n,s),g(n,i),g(n,o),g(t,c);for(let n=0;n<d.length;n+=1)d[n].m(t,null);g(t,r)},p(e,n){if(4&n&&u!==(u=e[22].name+"")&&R(l,u),4&n&&a!==(a=e[22].phoneNumber+"")&&R(i,a),5&n){let l;for(p=e[22].answers,l=0;l<p.length;l+=1){const s=ot(e,p,l);d[l]?d[l].p(s,n):(d[l]=$t(s),d[l].c(),d[l].m(t,r))}for(;l<d.length;l+=1)d[l].d(1);d.length=p.length}},d(e){e&&k(t),U(d,e)}}}function xt(e){let t,n,l,s,i,o,c,r,u,a=e[2].length+"",p=e[2],d=[];for(let f=0;f<p.length;f+=1)d[f]=ht(it(e,p,f));return{c(){t=f("div"),n=f("h2"),l=P("Answers from ("),s=P(a),i=P(" respondents)"),o=$(),c=f("hr"),r=$(),u=f("div");for(let e=0;e<d.length;e+=1)d[e].c();h(n,"class","text-xl"),h(c,"class","my-2"),h(u,"class","flex flex-col"),h(t,"class","p-5"),h(t,"tabindex","0")},m(e,a){x(e,t,a),g(t,n),g(n,l),g(n,s),g(n,i),g(t,o),g(t,c),g(t,r),g(t,u);for(let t=0;t<d.length;t+=1)d[t].m(u,null)},p(e,t){if(4&t&&a!==(a=e[2].length+"")&&R(s,a),5&t){let n;for(p=e[2],n=0;n<p.length;n+=1){const l=it(e,p,n);d[n]?d[n].p(l,t):(d[n]=ht(l),d[n].c(),d[n].m(u,null))}for(;n<d.length;n+=1)d[n].d(1);d.length=p.length}},d(e){e&&k(t),U(d,e)}}}function gt(e){let t,n,l,s,i,o;return t=new Se({props:{$$slots:{default:[at]},$$scope:{ctx:e}}}),l=new Re({props:{$$slots:{default:[mt]},$$scope:{ctx:e}}}),i=new Re({props:{$$slots:{default:[xt]},$$scope:{ctx:e}}}),{c(){m(t.$$.fragment),n=$(),m(l.$$.fragment),s=$(),m(i.$$.fragment)},m(e,c){b(t,e,c),x(e,n,c),b(l,e,c),x(e,s,c),b(i,e,c),o=!0},p(e,n){const s={};536870912&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s);const o={};536870915&n&&(o.$$scope={dirty:n,ctx:e}),l.$set(o);const c={};536870917&n&&(c.$$scope={dirty:n,ctx:e}),i.$set(c)},i(e){o||(y(t.$$.fragment,e),y(l.$$.fragment,e),y(i.$$.fragment,e),o=!0)},o(e){q(t.$$.fragment,e),q(l.$$.fragment,e),q(i.$$.fragment,e),o=!1},d(e){O(t,e),e&&k(n),O(l,e),e&&k(s),O(i,e)}}}function bt(e){let t,n,l,s,i,o;return t=new st({props:{id:e[0].id}}),t.$on("delete-form-clicked",e[5]),i=new ye({props:{$$slots:{default:[gt]},$$scope:{ctx:e}}}),{c(){m(t.$$.fragment),n=$(),l=f("div"),s=f("div"),m(i.$$.fragment),h(s,"class","w-full mx-5 my-10 bg-white shadow-md"),J(s,"max-width","700px"),h(l,"class","flex flex-col items-center")},m(e,c){b(t,e,c),x(e,n,c),x(e,l,c),g(l,s),b(i,s,null),o=!0},p(e,[n]){const l={};1&n&&(l.id=e[0].id),t.$set(l);const s={};536870919&n&&(s.$$scope={dirty:n,ctx:e}),i.$set(s)},i(e){o||(y(t.$$.fragment,e),y(i.$$.fragment,e),o=!0)},o(e){q(t.$$.fragment,e),q(i.$$.fragment,e),o=!1},d(e){O(t,e),e&&k(n),e&&k(l),O(i)}}}const vt=e=>!!e;function wt(e,t,n){let l,s;L(e,ne,(e=>n(10,s=e)));let{params:i}=t,{id:o}=t,a=!1;const p={text:"Question",required:!1},d=r(c({},p),{multiline:!1}),f=r(c({},p),{options:[],hasOtherOption:!1,multiple:!1});let m,$=c({},ae);return i&&i.id&&(o=i.id,$.id=o),V((()=>(se($.id)?n(0,$=oe(o)):ie($),document.body.classList.add("bg-color-2"),n(9,a=!0),()=>document.body.classList.remove("bg-color-2")))),e.$$set=e=>{"params"in e&&n(8,i=e.params),"id"in e&&n(7,o=e.id)},e.$$.update=()=>{641&e.$$.dirty&&a&&$&&o&&ce(o,$),1152&e.$$.dirty&&n(2,l=s.filter((e=>e.id===o)))},[$,m,l,function({detail:e}){const t=$.questions;t.splice(e,1),n(0,$.questions=t,$)},function({detail:e}){let t={type:e};switch(e){case"selection":t=c(c({},t),f);break;case"essay":t=c(c({},t),d)}!function(e){n(0,$.questions=[...$.questions,e],$)}(t),function(){u(this,null,(function*(){yield K(),document.activeElement.blur(),m.querySelector(".setup--question-text").focus()}))}()},function(){le($.id),W("/")},p,o,i,a,s,function(t){e.$$.not_equal($.title,t)&&($.title=t,n(0,$))},function(t){e.$$.not_equal($.description,t)&&($.description=t,n(0,$))},function(t,l){e.$$.not_equal(l.preview,t)&&(l.preview=t,n(0,$))},function(e,t,l,s){l[s]=e,n(0,$)},function(t,l){e.$$.not_equal(l.preview,t)&&(l.preview=t,n(0,$))},function(e,t,l,s){l[s]=e,n(0,$)},function(e){A[e?"unshift":"push"]((()=>{m=e,n(1,m)}))}]}export default class extends a{constructor(e){super(),p(this,e,wt,bt,d,{params:8,id:7})}}
